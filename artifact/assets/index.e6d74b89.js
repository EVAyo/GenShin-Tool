var yt=Object.defineProperty;var qe=Object.getOwnPropertySymbols;var kt=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable;var Ge=(l,e,t)=>e in l?yt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Oe=(l,e)=>{for(var t in e||(e={}))kt.call(e,t)&&Ge(l,t,e[t]);if(qe)for(var t of qe(e))Ct.call(e,t)&&Ge(l,t,e[t]);return l};var ue=(l,e,t)=>(Ge(l,typeof e!="symbol"?e+"":e,t),t);import{c as Ft,u as bt,d as Q,a as _,o as B,b as x,e as c,t as R,f as r,n as ee,F as I,r as j,w as te,v as ae,g as o,h as i,i as Et,p as _e,j as Be,E as Xe,k as He,l as T,m as Qe,q as we,s as De,x as wt,y as Ve,z as Ie,A as Ae,B as z,C as U,D as L,G as me,H as fe,I as Se,J as Dt,K as Vt,L as At,M as Ze,N as St,O as et,P as xe,Q as xt,R as $t,S as tt,T as Ot,U as Tt,V as Mt,W as ge,X as Te,Y as Kt,Z as Le,_ as Me,$ as lt,a0 as Pe,a1 as ut,a2 as at,a3 as Ut,a4 as Rt,a5 as Nt,a6 as Gt}from"./vendor.1a057b4d.js";const Ht=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))u(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}};Ht();function se(l,e){for(let t in e)if(e[t]==l)return t}function he(l,e){if(!l)throw new Error(e)}function ze(l,e){let t,u;return e.forEach(a=>{a in l&&(t===void 0||l[a]>t)&&(t=l[a],u=a)}),u}function je(l,e){let t,u;return e.forEach(a=>{a in l&&(t===void 0||l[a]<t)&&(t=l[a],u=a)}),u}function st(l,e,t){let u=l[e];l[e]=l[t],l[t]=u}function ye(l,e,t){if(typeof l=="number")return Math.floor(Math.random()*l);if(e==null&&t==null){let u=Math.floor(Math.random()*l.length);return l[u]}else if(e&&t==null){let u=0;e.forEach(s=>u+=s);let a=0,n=u*Math.random();for(let s=0;s<l.length;++s)if(a+=e[s],n<=a)return l[s];return l[0]}else if(e&&t){let u=[...l],a=[...e],n=0;e.forEach(s=>n+=s);for(let s=0;s<t;++s){let k=Math.random()*n,F=0;for(let p=s;p<u.length;++p)if(F+=a[p],k<=F){n-=a[p],st(u,s,p),st(a,s,p);break}}return u.slice(0,t)}return 0}class We{constructor(e){ue(this,"cache",{});ue(this,"get");this.get=(t,u)=>{let a=JSON.stringify(t);return a in this.cache?this.cache[a]:this.cache[a]=e(t,u)}}set(e,t){let u=JSON.stringify(e);this.cache[u]=t}clear(){this.cache={}}}var G={minorStat:{hp:{p:6/44,v:298.75},atk:{p:6/44,v:19.45},def:{p:6/44,v:23.15},hpp:{p:4/44,v:5.83},atkp:{p:4/44,v:5.83},defp:{p:4/44,v:7.29},em:{p:4/44,v:23.31},er:{p:4/44,v:6.48},cr:{p:3/44,v:3.89},cd:{p:3/44,v:7.77}},minorKeys:["hp","atk","def","hpp","atkp","defp","em","er","cr","cd"],mainKeys:{all:["hp","atk","hpp","atkp","defp","em","er","hb","cr","cd","pyroDB","hydroDB","electroDB","anemoDB","cryoDB","geoDB","physicalDB","dendroDB"],flower:["hp"],plume:["atk"],sands:["hpp","atkp","defp","em","er"],goblet:["hpp","atkp","defp","em","pyroDB","hydroDB","electroDB","anemoDB","cryoDB","geoDB","physicalDB","dendroDB"],circlet:["hpp","atkp","defp","em","hb","cr","cd"]},mainStat:{hp:[717,920,1123,1326,1530,1733,1936,2139,2342,2545,2749,2952,3155,3358,3561,3764,3967,4171,4374,4577,4780],atk:[47,60,73,86,100,113,126,139,152,166,179,192,205,219,232,245,258,272,285,298,311],hpp:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],atkp:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],defp:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],em:[28,36,44,52,60,68,76,84,91,99,107,115,123,131,139,147,155,163,171,179,187],er:[7.8,10,12.2,14.4,16.6,18.8,21,23.2,25.4,27.6,29.8,32,34.2,36.4,38.6,40.8,43,45.2,47.4,49.6,51.8],hb:[5.4,6.9,8.4,10,11.5,13,14.5,16.1,17.6,19.1,20.6,22.1,23.7,25.2,26.7,28.2,29.8,31.3,32.8,34.3,35.9],cr:[4.7,6,7.3,8.6,9.9,11.3,12.6,13.9,15.2,16.6,17.9,19.2,20.5,21.8,23.2,24.5,25.8,27.1,28.4,29.8,31.1],cd:[9.3,12,14.6,17.3,19.9,22.5,25.2,27.8,30.5,33.1,35.7,38.4,41,43.7,46.3,49,51.6,54.2,56.9,59.5,62.2],pyroDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],hydroDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],electroDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],anemoDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],cryoDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],geoDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],physicalDB:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],dendroDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6]},mainDistr:{flower:{hp:1},plume:{atk:1},sands:{hpp:8/30,atkp:8/30,defp:8/30,em:3/30,er:3/30},goblet:{hpp:767/4e3,atkp:767/4e3,defp:766/4e3,pyroDB:200/4e3,hydroDB:200/4e3,electroDB:200/4e3,anemoDB:200/4e3,cryoDB:200/4e3,geoDB:200/4e3,physicalDB:200/4e3,dendroDB:200/4e3,em:100/4e3},circlet:{hpp:11/50,atkp:11/50,defp:11/50,cr:5/50,cd:5/50,hb:5/50,em:2/50}}},q={TravelerAnemo:{element:"anemo",rarity:5,presets:["\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["ViridescentVenerer"],main:{flower:["hp"],plume:["atk"],sands:["em","atkp"],goblet:["em","anemoDB"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:0,em:1,er:1,cr:.5,cd:.25}}},TravelerGeo:{element:"geo",rarity:5,presets:["\u653B\u5145\u53CC\u66B4"],build:{set:["GladiatorsFinale","ShimenawasReminiscence","ArchaicPetra","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["geoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:0,er:.25,cr:1,cd:1}}},TravelerElectro:{element:"electro",rarity:5,presets:["\u5145","\u653B\u5145\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","GladiatorsFinale","WanderersTroupe","EmblemOfSeveredFate","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["er"],goblet:["atkp","em"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},TravelerDendro:{element:"dendro",rarity:5,presets:["\u7CBE\u53CC\u66B4","\u7CBE\u5145\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u7CBE\u5145\u53CC\u66B4"],build:{set:["EmblemOfSeveredFate","DeepwoodMemories","GildedDreams","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["er","em"],goblet:["dendroDB","em"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},KamisatoAyaka:{pop:!0,element:"cryo",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","NoblesseOblige","ShimenawasReminiscence","EmblemOfSeveredFate","BlizzardStrayer"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["cryoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},Jean:{element:"anemo",rarity:5,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","OceanHuedClam","GladiatorsFinale","ViridescentVenerer","NoblesseOblige","MaidenBeloved"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["anemoDB","atkp"],circlet:["cr","cd","atkp","hb"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},Lisa:{element:"electro",rarity:4,presets:["\u653B\u53CC\u66B4"],build:{set:["WanderersTroupe","EmblemOfSeveredFate","ThunderingFury"],main:{flower:["hp"],plume:["atk"],sands:["atkp","em","er"],goblet:["electroDB","atkp","em"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Barbara:{element:"hydro",rarity:4,presets:["\u751F\u5145"],build:{set:["TenacityOfTheMillelith","MaidenBeloved","NoblesseOblige","OceanHuedClam"],main:{flower:["hp"],plume:["atk"],sands:["er","hpp"],goblet:["hpp"],circlet:["hb","hpp"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:.25,defp:0,em:.25,er:1,cr:.5,cd:.25}}},Kaeya:{element:"cryo",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["NoblesseOblige","BloodstainedChivalry","EmblemOfSeveredFate","PaleFlame","GladiatorsFinale","BlizzardStrayer"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["cryoDB","physicalDB","atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Diluc:{element:"pyro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","WanderersTroupe","ShimenawasReminiscence","CrimsonWitchOfFlames"],main:{flower:["hp"],plume:["atk"],sands:["atkp","em"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.25,cr:1,cd:1}}},Razor:{element:"electro",rarity:4,presets:["\u653B\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","BloodstainedChivalry","PaleFlame","GladiatorsFinale"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["physicalDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Amber:{element:"pyro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["CrimsonWitchOfFlames","NoblesseOblige","WanderersTroupe"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Venti:{pop:!0,element:"anemo",rarity:5,presets:["\u653B\u5145\u7CBE\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["","ViridescentVenerer"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er","em"],goblet:["anemoDB","em"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Xiangling:{pop:!0,element:"pyro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["NoblesseOblige","ShimenawasReminiscence","GladiatorsFinale","WanderersTroupe","EmblemOfSeveredFate","CrimsonWitchOfFlames"],main:{flower:["hp"],plume:["atk"],sands:["em","er","atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Beidou:{element:"electro",rarity:4,presets:["\u653B\u53CC\u66B4"],build:{set:["GladiatorsFinale","ShimenawasReminiscence","EmblemOfSeveredFate","NoblesseOblige","ThunderingFury"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["electroDB","atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},Xingqiu:{pop:!0,element:"hydro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","NoblesseOblige","HeartOfDepth","ShimenawasReminiscence","EmblemOfSeveredFate"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["hydroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Xiao:{pop:!0,element:"anemo",rarity:5,presets:["\u653B\u53CC\u66B4"],build:{set:["ViridescentVenerer","GladiatorsFinale","ShimenawasReminiscence",""],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["anemoDB","atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Ningguang:{element:"geo",rarity:4,presets:["\u653B\u53CC\u66B4"],build:{set:["ArchaicPetra","GladiatorsFinale","NoblesseOblige","ShimenawasReminiscence"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["geoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:0,er:.25,cr:1,cd:1}}},Klee:{pop:!0,element:"pyro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","WanderersTroupe","RetracingBolide","Lavawalker","ShimenawasReminiscence","CrimsonWitchOfFlames"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Zhongli:{pop:!0,element:"geo",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u751F\u5145\u53CC\u66B4","\u653B\u751F\u53CC\u66B4"],build:{set:["ArchaicPetra","ShimenawasReminiscence","GladiatorsFinale","NoblesseOblige","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["hpp","atkp","er"],goblet:["geoDB","hpp"],circlet:["cr","cd","hpp"]},weight:{hp:0,atk:0,def:0,hpp:.5,atkp:.5,defp:0,em:0,er:.25,cr:1,cd:1}}},Fischl:{pop:!0,element:"electro",rarity:4,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["PaleFlame","ThunderingFury","GladiatorsFinale","BloodstainedChivalry","ShimenawasReminiscence","Thundersoother","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["electroDB","physicalDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Bennett:{pop:!0,element:"pyro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["OceanHuedClam","MaidenBeloved","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["er","hpp"],goblet:["hpp"],circlet:["hb","hpp"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:.25,defp:0,em:.25,er:1,cr:.25,cd:.25}}},Tartaglia:{pop:!0,element:"hydro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","NoblesseOblige","GladiatorsFinale","WanderersTroupe","HeartOfDepth"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er","em"],goblet:["hydroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.25,cr:1,cd:1}}},Noelle:{element:"geo",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u9632\u53CC\u66B4","\u653B\u9632\u5145\u53CC\u66B4","\u9632\u53CC\u66B4"],build:{set:["RetracingBolide","GladiatorsFinale","HuskOfOpulentDreams"],main:{flower:["hp"],plume:["atk"],sands:["defp"],goblet:["geoDB","defp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:.5,em:0,er:.5,cr:1,cd:1}}},Qiqi:{element:"cryo",rarity:5,presets:["\u653B\u53CC\u66B4"],build:{set:["EmblemOfSeveredFate","MaidenBeloved","NoblesseOblige","OceanHuedClam","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["er","atkp"],goblet:["atkp"],circlet:["hb","atkp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:0,er:1,cr:.25,cd:.25}}},Chongyun:{element:"cryo",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["BlizzardStrayer","EmblemOfSeveredFate","Lavawalker","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["cryoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.25,cr:1,cd:1}}},Ganyu:{pop:!0,element:"cryo",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["NoblesseOblige","GladiatorsFinale","ShimenawasReminiscence","EmblemOfSeveredFate","BlizzardStrayer","WanderersTroupe"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["cryoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Albedo:{element:"geo",rarity:5,presets:["\u9632\u53CC\u66B4"],build:{set:["ArchaicPetra","HuskOfOpulentDreams","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["defp"],goblet:["geoDB"],circlet:["cr","cd","defp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:.5,em:0,er:.25,cr:1,cd:1}}},Diona:{element:"cryo",rarity:4,presets:["\u751F\u5145"],build:{set:["OceanHuedClam","TenacityOfTheMillelith","MaidenBeloved","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["hpp","er"],goblet:["hpp"],circlet:["hpp","hb"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:.5,cd:.25}}},Mona:{element:"hydro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["HeartOfDepth","WanderersTroupe","EmblemOfSeveredFate","NoblesseOblige","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["er"],goblet:["atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},Keqing:{pop:!0,element:"electro",rarity:5,presets:["\u653B\u53CC\u66B4"],build:{set:["GladiatorsFinale","NoblesseOblige","BloodstainedChivalry","PaleFlame","Thundersoother","ShimenawasReminiscence","ThunderingFury"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["electroDB","physicalDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Sucrose:{pop:!0,element:"anemo",rarity:4,presets:["\u7CBE"],build:{set:["GladiatorsFinale","NoblesseOblige","ShimenawasReminiscence","ViridescentVenerer"],main:{flower:["hp"],plume:["atk"],sands:["em","er","atkp"],goblet:["em","anemoDB"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:0,em:1,er:.5,cr:.5,cd:.25}}},Xinyan:{element:"pyro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u9632\u53CC\u66B4"],build:{set:["PaleFlame","GladiatorsFinale","ShimenawasReminiscence","RetracingBolide","HuskOfOpulentDreams","TenacityOfTheMillelith","BloodstainedChivalry"],main:{flower:["hp"],plume:["atk"],sands:["defp","atkp"],goblet:["defp","physicalDB"],circlet:["cr","cd","defp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:.5,em:0,er:.5,cr:1,cd:1}}},Rosaria:{element:"cryo",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","ShimenawasReminiscence","BlizzardStrayer","BloodstainedChivalry","EmblemOfSeveredFate","PaleFlame","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["cryoDB","physicalDB"],circlet:["cr"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},HuTao:{pop:!0,element:"pyro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u751F\u7CBE\u53CC\u66B4","\u751F\u7CBE\u53CC\u66B4","\u751F\u7CBE\u7206\u4F24"],build:{set:["TenacityOfTheMillelith","WanderersTroupe","RetracingBolide","ShimenawasReminiscence","CrimsonWitchOfFlames"],main:{flower:["hp"],plume:["atk"],sands:["hpp","em"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:.5,atkp:.25,defp:0,em:.5,er:.25,cr:1,cd:1}}},KaedeharaKazuha:{pop:!0,element:"anemo",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u7CBE\u5145"],build:{set:["","ViridescentVenerer"],main:{flower:["hp"],plume:["atk"],sands:["em","atkp"],goblet:["anemoDB","em","atkp"],circlet:["cr","cd","em","atkp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:1,er:.5,cr:.5,cd:.5}}},Yanfei:{element:"pyro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["","RetracingBolide","CrimsonWitchOfFlames","WanderersTroupe"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.25,cr:1,cd:1}}},Yoimiya:{pop:!0,element:"pyro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","CrimsonWitchOfFlames","RetracingBolide","Lavawalker","ShimenawasReminiscence"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.25,cr:1,cd:1}}},Thoma:{element:"pyro",rarity:4,presets:["\u751F\u5145"],build:{set:["TenacityOfTheMillelith","EmblemOfSeveredFate"],main:{flower:["hp"],plume:["atk"],sands:["er","hpp"],goblet:["hpp"],circlet:["hpp"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:.25,defp:0,em:.25,er:1,cr:.5,cd:.25}}},Eula:{pop:!0,element:"cryo",rarity:5,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u51FB\u7206\u4F24","\u653B\u53CC\u66B4"],build:{set:["GladiatorsFinale","BloodstainedChivalry","ShimenawasReminiscence","PaleFlame"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["physicalDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:0,er:.5,cr:1,cd:1}}},RaidenShogun:{pop:!0,element:"electro",rarity:5,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["","EmblemOfSeveredFate"],main:{flower:["hp"],plume:["atk"],sands:["er","atkp"],goblet:["electroDB","atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},Sayu:{element:"anemo",rarity:4,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","OceanHuedClam","ViridescentVenerer","MaidenBeloved"],main:{flower:["hp"],plume:["atk"],sands:["em","er","atkp"],goblet:["em","anemoDB"],circlet:["em","hb","atkp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:.5,er:1,cr:.5,cd:.25}}},SangonomiyaKokomi:{pop:!0,element:"hydro",rarity:5,presets:["\u751F\u5145","\u751F\u653B\u5145","\u751F\u653B\u7CBE\u5145"],build:{set:["MaidenBeloved","OceanHuedClam","TenacityOfTheMillelith","HeartOfDepth"],main:{flower:["hp"],plume:["atk"],sands:["hpp","er"],goblet:["hydroDB","hpp"],circlet:["hb"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:.5,defp:0,em:.5,er:.5,cr:0,cd:0}}},Gorou:{element:"geo",rarity:4,presets:["\u9632\u5145"],build:{set:["HuskOfOpulentDreams","EmblemOfSeveredFate","MaidenBeloved","OceanHuedClam","ArchaicPetra","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["er"],goblet:["defp"],circlet:["defp","hb"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:1,em:.25,er:1,cr:.5,cd:.25}}},KujouSara:{element:"electro",rarity:4,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["GladiatorsFinale","ThunderingFury","ShimenawasReminiscence","EmblemOfSeveredFate","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["er","atkp"],goblet:["electroDB","atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},AratakiItto:{pop:!0,element:"geo",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u9632\u53CC\u66B4","\u653B\u9632\u5145\u53CC\u66B4","\u9632\u53CC\u66B4"],build:{set:["ArchaicPetra","HuskOfOpulentDreams"],main:{flower:["hp"],plume:["atk"],sands:["defp"],goblet:["geoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:.5,em:0,er:.5,cr:1,cd:1}}},YaeMiko:{pop:!0,element:"electro",rarity:5,presets:["\u653B\u7CBE\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","GladiatorsFinale","ThunderingFury","Thundersoother","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["electroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},ShikanoinHeizou:{element:"anemo",rarity:4,presets:["\u653B\u53CC\u66B4"],build:{set:["ViridescentVenerer","GladiatorsFinale","ShimenawasReminiscence","EchoesOfAnOffering"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["anemoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:0,cr:1,cd:1}}},Yelan:{pop:!0,element:"hydro",rarity:5,presets:["\u751F\u53CC\u66B4","\u751F\u5145\u53CC\u66B4"],build:{set:["EmblemOfSeveredFate","HeartOfDepth","NoblesseOblige","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["hpp","er"],goblet:["hydroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:1,cd:1}}},Aloy:{element:"cryo",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","ShimenawasReminiscence","EmblemOfSeveredFate","NoblesseOblige","BlizzardStrayer"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er","em"],goblet:["cryoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Shenhe:{pop:!0,element:"cryo",rarity:5,presets:["\u653B\u5145","\u653B\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","GladiatorsFinale","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["atkp"],circlet:["atkp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:.25,er:.5,cr:.5,cd:.25}}},YunJin:{element:"geo",rarity:4,presets:["\u9632\u5145"],build:{set:["EmblemOfSeveredFate","NoblesseOblige","HuskOfOpulentDreams"],main:{flower:["hp"],plume:["atk"],sands:["defp","er"],goblet:["defp"],circlet:["defp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:1,em:.25,er:1,cr:.5,cd:.25}}},KukiShinobu:{element:"electro",rarity:4,presets:["\u751F","\u751F\u7CBE"],build:{set:["TenacityOfTheMillelith","OceanHuedClam","MaidenBeloved"],main:{flower:["hp"],plume:["atk"],sands:["em","hpp"],goblet:["em","hpp"],circlet:["hb","em"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:1,er:0,cr:.5,cd:0}}},KamisatoAyato:{pop:!0,element:"hydro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u751F\u53CC\u66B4"],build:{set:["EchoesOfAnOffering","GladiatorsFinale","HeartOfDepth"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["hydroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:.25,atkp:.5,defp:0,em:0,er:0,cr:1,cd:1}}},Collei:{element:"dendro",rarity:4,presets:["\u7CBE\u53CC\u66B4","\u7CBE\u5145\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u7CBE\u5145\u53CC\u66B4"],build:{set:["DeepwoodMemories","GildedDreams","EmblemOfSeveredFate","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["dendroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Tighnari:{pop:!0,element:"dendro",rarity:5,presets:["\u7CBE\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["DeepwoodMemories","GildedDreams","WanderersTroupe"],main:{flower:["hp"],plume:["atk"],sands:["em"],goblet:["dendroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:0,cr:1,cd:1}}}};function $e(l,e=0){let t=[];if(typeof l=="number")for(let u=0;u<l;++u)t.push(0);else if(e==l.length-1)for(let u=0;u<l[e];++u)t.push(0);else if(e<l.length-1)for(let u=0;u<l[e];++u)t.push($e(l,e+1));return t}function ot(l,e,t){let u=l[e];l[e]=l[t],l[t]=u}function nt(l,e,t,u=0){if(u==e)t.push(l.slice(0,e));else for(let a=0;a<l.length-u;++a)nt(l,e,t,u+1),(e-u)%2?ot(l,u,l.length-1-a):ot(l,u,l.length-1)}function rt(l,e){if(e==null&&(e=l.length),e<1||e>l.length)throw new Error("permutations: invalid n");let t=[];return nt([...l],e,t),t}function ve(...l){if(l.length==0)return[];for(let t of l)if(t.length==0)return[];let e=[1];for(let t of l){let u=[];for(let a=0;a<e.length;++a)for(let n=0;n<t.length;++n)a+n==u.length&&u.push(0),u[a+n]+=e[a]*t[n];e=u}return e}function It(l){let e=0,t=[];for(let u of l)e+=u,t.push(e);return t}function ne(l,e){if(l.length!=e.length||e.length==0)throw new Error("Invalid arguments");let t=[];for(let u=0;u<e.length;++u)for(let a=0;a<l[u].length;++a)a==t.length&&t.push(0),t[a]+=e[u]*l[u][a];return e.length==1&&t.length&&(t[0]+=1-e[0]),t}function Ke(l){for(;l[l.length-1]==0;)l.pop()}const ke={hp:6/44,atk:6/44,def:6/44,hpp:4/44,atkp:4/44,defp:4/44,em:4/44,er:4/44,cr:3/44,cd:3/44};function Lt(l,e,t=5){let u={},a={},n=[];for(let v in ke)v!=l&&n.push(v);let s=l in ke?1-ke[l]:1;if(t==0)for(let v of rt(n,3)){let w=1,V=s;for(let E of v)w*=ke[E]/V,V-=ke[E];let h=[];for(let E of v)h.push(e[E]);h.sort();let b=h.join(",");b in u?u[b]+=w:u[b]=w}for(let v of rt(n,4)){let w=1,V=s;for(let E of v)w*=ke[E]/V,V-=ke[E];let h=[];for(let E of v)h.push(e[E]);h.sort();let b=h.join(",");b in a?a[b]+=w:a[b]=w}let k,F,p,C;function S(v){let w=$e(41);for(let V=7;V<=10;++V){k=v[0]*V;for(let h=7;h<=10;++h){F=k+v[1]*h;for(let b=7;b<=10;++b){p=F+v[2]*b;for(let E=7;E<=10;++E)C=p+v[3]*E,w[Math.round(C)]+=1}}}Ke(w);for(let V=0;V<w.length;++V)w[V]/=256;return w}function $(v){let w=$e(31);for(let V=7;V<=10;++V){k=v[0]*V;for(let h=7;h<=10;++h){F=k+v[1]*h;for(let b=7;b<=10;++b)p=F+v[2]*b,w[Math.round(p)]+=1}}Ke(w);for(let V=0;V<w.length;++V)w[V]/=64;return w}function M(v){let w=$e(21);for(let V=0;V<4;++V)for(let h=0;h<4;++h)for(let b=7;b<=10;++b){k=v[V]*b;for(let E=7;E<=10;++E)F=k+v[h]*E,w[Math.round(F)]+=1}Ke(w);for(let V=0;V<w.length;++V)w[V]/=256;return w}function A(v){let w=$e(11);for(let V=0;V<4;++V)for(let h=7;h<=10;++h)k=v[V]*h,w[Math.round(k)]+=1;Ke(w);for(let V=0;V<w.length;++V)w[V]/=16;return w}let g=[0],f,y,d,m;if(t==0){for(let v in u){let w=v.split(",").map(V=>parseFloat(V));f=$(w),g=ne([g,f],[1,.8*u[v]])}for(let v in a){let w=v.split(",").map(V=>parseFloat(V));f=S(w),g=ne([g,f],[1,.2*a[v]])}}else if(t==1)for(let v in a){let w=v.split(",").map(V=>parseFloat(V));y=S(w),m=A(w),f=y,g=ne([g,f],[1,.8*a[v]]),f=ve(y,m),g=ne([g,f],[1,.2*a[v]])}else if(t==2)for(let v in a){let w=v.split(",").map(V=>parseFloat(V));y=S(w),d=M(w),m=A(w),f=ve(y,m),g=ne([g,f],[1,.8*a[v]]),f=ve(y,d),g=ne([g,f],[1,.2*a[v]])}else if(t==3)for(let v in a){let w=v.split(",").map(V=>parseFloat(V));y=S(w),d=M(w),m=A(w),f=ve(y,d),g=ne([g,f],[1,.8*a[v]]),f=ve(y,d,m),g=ne([g,f],[1,.2*a[v]])}else if(t==4)for(let v in a){let w=v.split(",").map(V=>parseFloat(V));y=S(w),d=M(w),m=A(w),f=ve(y,d,m),g=ne([g,f],[1,.8*a[v]]),f=ve(y,d,d),g=ne([g,f],[1,.2*a[v]])}else for(let v in a){let w=v.split(",").map(V=>parseFloat(V));y=S(w),d=M(w),m=A(w),f=ve(y,d,d),g=ne([g,f],[1,.8*a[v]]),f=ve(y,d,d,m),g=ne([g,f],[1,.2*a[v]])}return It(g)}const it=new We(({main:l,weight:e})=>Lt(l,e));class X{constructor(e){ue(this,"key","");ue(this,"value",0);e&&(this.key=e.key,this.value=e.value)}valueString(){return["hp","atk","def","em"].includes(this.key)?this.value.toFixed(0):this.value.toFixed(1)+"%"}}class re{constructor(e){ue(this,"set","");ue(this,"slot","");ue(this,"rarity",5);ue(this,"level",0);ue(this,"lock",!1);ue(this,"location","");ue(this,"mainKey","");ue(this,"minors",[]);ue(this,"data",{index:-Math.random(),source:"",lock:!1,affnum:{cur:0,avg:0,min:0,max:0},score:0,charScores:[],defeat:0,mvec:[]});if(typeof e=="object"){if(this.set=e.set||this.set,this.slot=e.slot||this.slot,this.rarity=e.rarity||this.rarity,this.level=e.level||this.level,this.lock=e.lock||this.lock,this.location=e.location||this.location,this.mainKey=e.mainKey||this.mainKey,e.minors instanceof Array)for(let t of e.minors)this.minors.push(new X(t));this.data.lock=this.lock}}clear(){this.data.score=0,this.data.charScores=[],this.data.defeat=0}validate(){he(this.rarity==5,"Only 5 star artifacts are supported"),he([3,4].includes(this.minors.length),"Invalid artifact: number of minors is not 3 or 4"),he(this.level>=0&&this.level<=20,"Invalid artifact: invalid level"),he(this.level<4||this.minors.length==4,"Invalid artifact: number of minors is not 4")}updateAffnum(e){this.data.affnum={cur:0,avg:0,min:0,max:0};let t=new Set,u=new Set(G.minorKeys),a=0;u.delete(this.mainKey);for(let n of this.minors)this.data.affnum.cur+=e[n.key]*n.value/G.minorStat[n.key].v/.85,t.add(n.key),u.delete(n.key),a+=e[n.key];if(this.minors.length==3){let n=0,s=0;u.forEach(p=>{s+=e[p]*G.minorStat[p].p,n+=G.minorStat[p].p}),this.data.affnum.avg=this.data.affnum.cur+a+2*s/n;let k=ze(e,u);t.add(k);let F=ze(e,t);t.delete(k),this.data.affnum.max=this.data.affnum.cur+(e[k]+4*e[F])/.85,k=je(e,u),t.add(k),F=je(e,t),t.delete(k),this.data.affnum.min=this.data.affnum.cur+(e[k]+4*e[F])*.7/.85}else if(this.minors.length==4){let n=Math.ceil((20-this.level)/4);this.data.affnum.avg=this.data.affnum.cur+n*a/4;let s=ze(e,t);this.data.affnum.max=this.data.affnum.cur+n*e[s]/.85,s=je(e,t),this.data.affnum.min=this.data.affnum.cur+n*e[s]*.7/.85}}getAvgAffnum(e){let t=new Set,u=new Set(G.minorKeys),a=0,n=0;u.delete(this.mainKey);for(let s of this.minors)n+=e[s.key]*s.value/G.minorStat[s.key].v,t.add(s.key),u.delete(s.key),a+=e[s.key];if(this.minors.length==3){let s=0,k=0;return u.forEach(F=>{k+=e[F]*G.minorStat[F].p,s+=G.minorStat[F].p}),n+.85*a+1.7*k/s}else{let s=Math.ceil((20-this.level)/4);return n+s*a/4*.85}}updateScore(e){this.data.score=0,this.data.charScores=[];const t=new We(a=>Math.round(this.getAvgAffnum(a)*10)),u=new We((a,{slot:n,main:s,distr:k,affnum:F})=>{let p=G.mainDistr[n][s]/5,C=F>=k.length?1:k[F];return(p*C+1-p)**100});for(let a of e){let n=q[a].build;if(!n.main[this.slot].includes(this.mainKey))continue;let s=n.set.includes(this.set)?1:2,k=t.get(n.weight),F=it.get({main:this.mainKey,weight:n.weight}),p=u.get(n.weight,{slot:this.slot,main:this.mainKey,distr:F,affnum:k})**s;this.data.score=Math.max(this.data.score,p),p>=.001&&this.data.charScores.push({charKey:a,score:p})}this.data.charScores.sort((a,n)=>n.score-a.score)}updateScoreSingle(e){if(this.data.score=0,this.data.charScores=[],!e.main[this.slot].includes(this.mainKey))return;let t=e.set.includes(this.set)?1:2,u=Math.round(this.getAvgAffnum(e.weight)*10),a=it.get({main:this.mainKey,weight:e.weight}),n=G.mainDistr[this.slot][this.mainKey]/5,s=u>=a.length?1:a[u];this.data.score=(n*s+1-n)**t}static sortByDefeat(e){let t={cr:0,cd:1,em:2,er:3,atkp:4,defp:5,hpp:6},u={};for(let a of e){let n=a.slot+","+a.mainKey+","+Math.floor(a.level/4);n in u?u[n].push(a):u[n]=[a],a.data.defeat=0,a.data.mvec=[0,0,0,0,0,0,0];for(let s of a.minors)s.key in t&&(a.data.mvec[t[s.key]]=s.value)}for(let a in u){let n=u[a].length;for(let s=0;s<n-1;++s)for(let k=s+1;k<n;++k){let F=u[a][s],p=u[a][k],C=0,S=0;for(let $=0;$<7;++$)F.data.mvec[$]>=p.data.mvec[$]&&C++,p.data.mvec[$]>=F.data.mvec[$]&&S++;C==7&&S<7?p.data.defeat++:S==7&&C<7&&F.data.defeat++}}e.sort((a,n)=>a.data.defeat-n.data.defeat)}static rand({sets:e,slot:t,mainKey:u,init_3:a,level:n=0}){let s=new re;if(e instanceof Array&&e.length&&(s.set=ye(e)),t&&["flower","plume","sands","goblet","circlet"].includes(t)?s.slot=t:s.slot=ye(["flower","plume","sands","goblet","circlet"]),u&&G.mainKeys[s.slot].includes(u))s.mainKey=u;else{let A=[],g=[];for(let f in G.mainDistr[s.slot])A.push(f),g.push(G.mainDistr[s.slot][f]);s.mainKey=ye(A,g)}a==null&&(a=Math.random()<.8),s.level=n;let k=s.mainKey in G.minorStat?1-G.minorStat[s.mainKey].p:1,F=[],p=[];for(let A in G.minorStat)A!=s.mainKey&&(F.push(A),p.push(G.minorStat[A].p/k));let C=ye(F,p,4),S=[0,0,0,0];for(let A=0;A<4;++A)S[A]=7+ye(4);let $=Math.floor(n/4);a&&$--;for(let A=0;A<$;++A){let g=ye(4),f=7+ye(4);S[g]+=f}let M=a&&n<4?3:4;for(let A=0;A<M;++A)s.minors.push(new X({key:C[A],value:S[A]/10*G.minorStat[C[A]].v}));return s}}var N={set:{GladiatorsFinale:"\u89D2\u6597\u58EB\u7684\u7EC8\u5E55\u793C",WanderersTroupe:"\u6D41\u6D6A\u5927\u5730\u7684\u4E50\u56E2",Thundersoother:"\u5E73\u606F\u9E23\u96F7\u7684\u5C0A\u8005",ThunderingFury:"\u5982\u96F7\u7684\u76DB\u6012",MaidenBeloved:"\u88AB\u601C\u7231\u7684\u5C11\u5973",ViridescentVenerer:"\u7FE0\u7EFF\u4E4B\u5F71",CrimsonWitchOfFlames:"\u70BD\u70C8\u7684\u708E\u4E4B\u9B54\u5973",Lavawalker:"\u6E21\u8FC7\u70C8\u706B\u7684\u8D24\u4EBA",NoblesseOblige:"\u6614\u65E5\u5B97\u5BA4\u4E4B\u4EEA",BloodstainedChivalry:"\u67D3\u8840\u7684\u9A91\u58EB\u9053",ArchaicPetra:"\u60A0\u53E4\u7684\u78D0\u5CA9",RetracingBolide:"\u9006\u98DE\u7684\u6D41\u661F",BlizzardStrayer:"\u51B0\u98CE\u8FF7\u9014\u7684\u52C7\u58EB",HeartOfDepth:"\u6C89\u6CA6\u4E4B\u5FC3",TenacityOfTheMillelith:"\u5343\u5CA9\u7262\u56FA",PaleFlame:"\u82CD\u767D\u4E4B\u706B",ShimenawasReminiscence:"\u8FFD\u5FC6\u4E4B\u6CE8\u8FDE",EmblemOfSeveredFate:"\u7EDD\u7F18\u4E4B\u65D7\u5370",HuskOfOpulentDreams:"\u534E\u9986\u68A6\u9192\u5F62\u9AB8\u8BB0",OceanHuedClam:"\u6D77\u67D3\u7817\u78F2",VermillionHereafter:"\u8FB0\u7802\u5F80\u751F\u5F55",EchoesOfAnOffering:"\u6765\u6B46\u4F59\u54CD",DeepwoodMemories:"\u6DF1\u6797\u7684\u8BB0\u5FC6",GildedDreams:"\u9970\u91D1\u4E4B\u68A6"},affix:{hp:"\u751F\u547D\u503C",atk:"\u653B\u51FB\u529B",def:"\u9632\u5FA1\u529B",hpp:"\u751F\u547D\u503C%",atkp:"\u653B\u51FB\u529B%",defp:"\u9632\u5FA1\u529B%",em:"\u5143\u7D20\u7CBE\u901A",er:"\u5143\u7D20\u5145\u80FD",hb:"\u6CBB\u7597\u52A0\u6210",cr:"\u66B4\u51FB\u7387",cd:"\u66B4\u51FB\u4F24\u5BB3",pyroDB:"\u706B\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",hydroDB:"\u6C34\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",electroDB:"\u96F7\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",anemoDB:"\u98CE\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",cryoDB:"\u51B0\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",geoDB:"\u5CA9\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",physicalDB:"\u7269\u7406\u4F24\u5BB3\u52A0\u6210",dendroDB:"\u8349\u5143\u7D20\u4F24\u5BB3\u52A0\u6210"},slot:{flower:"\u751F\u4E4B\u82B1",plume:"\u6B7B\u4E4B\u7FBD",sands:"\u65F6\u4E4B\u6C99",goblet:"\u7A7A\u4E4B\u676F",circlet:"\u7406\u4E4B\u51A0"},character:{Traveler:"\u65C5\u884C\u8005",TravelerAnemo:"\u98CE\u4E3B",TravelerGeo:"\u5CA9\u4E3B",TravelerElectro:"\u96F7\u4E3B",TravelerDendro:"\u8349\u4E3B",KamisatoAyaka:"\u795E\u91CC\u7EEB\u534E",Jean:"\u7434",Lisa:"\u4E3D\u838E",Barbara:"\u82AD\u82AD\u62C9",Kaeya:"\u51EF\u4E9A",Diluc:"\u8FEA\u5362\u514B",Razor:"\u96F7\u6CFD",Amber:"\u5B89\u67CF",Venti:"\u6E29\u8FEA",Xiangling:"\u9999\u83F1",Beidou:"\u5317\u6597",Xingqiu:"\u884C\u79CB",Xiao:"\u9B48",Ningguang:"\u51DD\u5149",Klee:"\u53EF\u8389",Zhongli:"\u949F\u79BB",Fischl:"\u83F2\u8C22\u5C14",Bennett:"\u73ED\u5C3C\u7279",Tartaglia:"\u8FBE\u8FBE\u5229\u4E9A",Noelle:"\u8BFA\u827E\u5C14",Qiqi:"\u4E03\u4E03",Chongyun:"\u91CD\u4E91",Ganyu:"\u7518\u96E8",Albedo:"\u963F\u8D1D\u591A",Diona:"\u8FEA\u5965\u5A1C",Mona:"\u83AB\u5A1C",Keqing:"\u523B\u6674",Sucrose:"\u7802\u7CD6",Xinyan:"\u8F9B\u7131",Rosaria:"\u7F57\u838E\u8389\u4E9A",HuTao:"\u80E1\u6843",KaedeharaKazuha:"\u67AB\u539F\u4E07\u53F6",Yanfei:"\u70DF\u7EEF",Yoimiya:"\u5BB5\u5BAB",Thoma:"\u6258\u9A6C",Eula:"\u4F18\u83C8",RaidenShogun:"\u96F7\u7535\u5C06\u519B",Sayu:"\u65E9\u67DA",SangonomiyaKokomi:"\u73CA\u745A\u5BAB\u5FC3\u6D77",Gorou:"\u4E94\u90CE",KujouSara:"\u4E5D\u6761\u88DF\u7F57",AratakiItto:"\u8352\u6CF7\u4E00\u6597",YaeMiko:"\u516B\u91CD\u795E\u5B50",ShikanoinHeizou:"\u9E7F\u91CE\u9662\u5E73\u85CF",Yelan:"\u591C\u5170",Aloy:"\u57C3\u6D1B\u4F0A",Shenhe:"\u7533\u9E64",YunJin:"\u4E91\u5807",KukiShinobu:"\u4E45\u5C90\u5FCD",KamisatoAyato:"\u795E\u91CC\u7EEB\u4EBA",Collei:"\u67EF\u83B1",Dori:"\u591A\u8389\uFF08\u65BD\u5DE5\u4E2D\uFF09",Tighnari:"\u63D0\u7EB3\u91CC",Nilou:"\u59AE\u9732\uFF08\u65BD\u5DE5\u4E2D\uFF09",Cyno:"\u8D5B\u8BFA\uFF08\u65BD\u5DE5\u4E2D\uFF09",Candace:"\u574E\u8482\u4E1D\uFF08\u65BD\u5DE5\u4E2D\uFF09"},preset:{\u653B\u5145:"\u653B\u5145",\u653B\u5145\u53CC\u66B4:"\u653B\u5145\u53CC\u66B4",\u653B\u5145\u7CBE\u53CC\u66B4:"\u653B\u5145\u7CBE\u53CC\u66B4",\u653B\u51FB\u7206\u4F24:"\u653B\u51FB\u7206\u4F24",\u653B\u53CC\u66B4:"\u653B\u53CC\u66B4",\u653B\u751F\u5145\u53CC\u66B4:"\u653B\u751F\u5145\u53CC\u66B4",\u653B\u751F\u53CC\u66B4:"\u653B\u751F\u53CC\u66B4",\u653B\u751F\u7CBE\u53CC\u66B4:"\u653B\u751F\u7CBE\u53CC\u66B4",\u653B\u7CBE\u53CC\u66B4:"\u653B\u7CBE\u53CC\u66B4",\u653B\u9632\u53CC\u66B4:"\u653B\u9632\u53CC\u66B4",\u653B\u9632\u5145\u53CC\u66B4:"\u653B\u9632\u5145\u53CC\u66B4",\u751F:"\u751F",\u751F\u5145:"\u751F\u5145",\u751F\u653B\u5145:"\u751F\u653B\u5145",\u751F\u7CBE:"\u751F\u7CBE",\u751F\u653B\u7CBE\u5145:"\u751F\u653B\u7CBE\u5145",\u751F\u53CC\u66B4:"\u751F\u53CC\u66B4",\u751F\u5145\u53CC\u66B4:"\u751F\u5145\u53CC\u66B4",\u751F\u7CBE\u53CC\u66B4:"\u751F\u7CBE\u53CC\u66B4",\u751F\u7CBE\u7206\u4F24:"\u751F\u7CBE\u7206\u4F24",\u7CBE:"\u7CBE",\u7CBE\u5145:"\u7CBE\u5145",\u9632\u5145:"\u9632\u5145",\u9632\u53CC\u66B4:"\u9632\u53CC\u66B4",\u5145:"\u5145"},element:{pyro:"\u706B\u5143\u7D20",hydro:"\u6C34\u5143\u7D20",electro:"\u96F7\u5143\u7D20",anemo:"\u98CE\u5143\u7D20",cryo:"\u51B0\u5143\u7D20",geo:"\u5CA9\u5143\u7D20",dendro:"\u8349\u5143\u7D20"}};const dt=250,ct=Symbol(),Pt=Ft({state:()=>({artifacts:[],filteredArtifacts:[],filter:{set:[],slot:[],main:[],lock:[],lvRange:[0,20],pro:!1,location:[],minorMustHave:[],minorMustNotHave:[]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1},weightInUse:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1},sort:{by:"avg",characters:Object.keys(q).filter(l=>q[l].pop),sets:["NoblesseOblige","ShimenawasReminiscence","GladiatorsFinale","WanderersTroupe","EmblemOfSeveredFate","CrimsonWitchOfFlames"],sands:["em","er","atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},artMode:{showAffnum:!1,useMaxAsUnit:!1},canExport:!1,nReload:0,loading:!1,nResetFilter:0}),getters:{},mutations:{setFilter(l,e){l.filter[e.key]=e.value},setWeight(l,e){l.weight[e.key]=e.value},usePreset(l,e){l.weight=e.weight},setSort(l,e){l.sort[e.key]=e.value},useBuild(l,e){if(e.charKey in q){let t=q[e.charKey].build;l.sort.sets=[...t.set],l.sort.sands=[...t.main.sands],l.sort.goblet=[...t.main.goblet],l.sort.circlet=[...t.main.circlet],l.weight=Oe({},t.weight)}},setArtMode(l,e){for(let t in e)t in l.artMode&&(l.artMode[t]=e[t])}},actions:{reload({state:l}){l.loading=!0,setTimeout(()=>{l.loading=!1,l.nReload++},dt)},setArtifacts({state:l,dispatch:e},t){l.canExport=t.canExport,l.artifacts=t.artifacts,l.nResetFilter++,e("updFilteredArtifacts")},updFilteredArtifacts({state:l}){l.loading=!0,setTimeout(()=>{let e=l.artifacts;e=e.filter(t=>!(!l.filter.set.includes(t.set)||!l.filter.slot.includes(t.slot)||!l.filter.main.includes(t.mainKey)||!l.filter.lock.includes(t.lock.toString())||t.level<l.filter.lvRange[0]||l.filter.lvRange[1]<t.level)),l.filter.pro&&(e=e.filter(t=>{if(!l.filter.location.includes(t.location))return!1;let u=t.minors.map(a=>a.key);for(let a of l.filter.minorMustHave)if(!u.includes(a))return!1;for(let a of l.filter.minorMustNotHave)if(u.includes(a))return!1;return!0})),l.weightInUse=Oe({},l.weight);for(let t of e)t.clear(),l.sort.by=="psingle"?t.updateScoreSingle({set:l.sort.sets,main:{flower:["hp"],plume:["atk"],sands:l.sort.sands,goblet:l.sort.goblet,circlet:l.sort.circlet},weight:l.weight}):l.sort.by=="pmulti"&&t.updateScore(l.sort.characters),t.updateAffnum(l.weightInUse);["psingle","pmulti"].includes(l.sort.by)?e.sort((t,u)=>u.data.score-t.data.score):l.sort.by=="defeat"?re.sortByDefeat(e):l.sort.by=="index"?e.sort((t,u)=>t.data.index-u.data.index):["cur","avg","min","max"].includes(l.sort.by)&&e.sort((t,u)=>u.data.affnum[l.sort.by]-t.data.affnum[l.sort.by]),l.filteredArtifacts=e,l.nReload++,l.loading=!1},dt)},updArtifact({state:l,dispatch:e},t){for(let u of l.filteredArtifacts)if(u.data.index==t.index){if(t.toSwap){for(let a of l.artifacts)if(a.location==t.newArt.location&&a.slot==t.newArt.slot){a.location=u.location;break}}u.location=t.newArt.location,u.level=t.newArt.level,u.minors=t.newArt.minors;break}e("updFilteredArtifacts")},delArtifacts({state:l,dispatch:e},t){let u=new Set(t.indices),a=[];for(let s of l.artifacts)u.has(s.data.index)||a.push(s);l.artifacts=a;let n=[];for(let s of l.filteredArtifacts)u.has(s.data.index)||n.push(s);l.filteredArtifacts=n,e("reload")},addArtifacts({state:l,dispatch:e},t){for(let u of t.artifacts)l.artifacts.push(u);l.nResetFilter++,e("updFilteredArtifacts")},flipLock({state:l},e){for(let t of l.artifacts)if(t.data.index==e.index){t.lock=!t.lock;return}},setLock({state:l},e){let t=new Set(e.indices);for(let u of l.artifacts)t.has(u.data.index)&&(u.lock=e.lock)}}});function le(){return bt(ct)}var ie=(l,e)=>{const t=l.__vccOpts||l;for(const[u,a]of e)t[u]=a;return t};const zt=l=>(_e("data-v-93a81254"),l=l(),Be(),l),jt=["title"],Wt={class:"head"},Jt={class:"head-stat"},Yt={class:"piece-name"},qt={class:"main-affix-name"},Xt={class:"main-affix-value"},Qt={class:"piece-img-wrapper"},Zt=["src"],el={class:"body"},tl={class:"body-head"},ll={class:"level"},ul={class:"cur-an"},al={class:"lock-img-container"},sl=["src"],ol={class:"minor-affixes"},nl={class:"count"},rl={key:0,class:"affix-numbers"},il={class:"min-an"},dl={class:"avg-an"},cl={class:"max-an"},pl={key:1,class:"full-an"},ml={class:"location"},fl=["src"],hl=zt(()=>c("span",null,"\u7F16\u8F91",-1)),vl=Q({props:{artifact:null,selected:{type:Boolean},selectMode:{type:Boolean},readonly:{type:Boolean}},emits:["flipSelect","flipLock","edit"],setup(l,{emit:e}){const t=l,u=le(),a=_(()=>{if(t.artifact.set in N.set&&t.artifact.slot in N.slot){let d=N.set[t.artifact.set],m=N.slot[t.artifact.slot][2];return`${d} \xB7 ${m}`}else return"\u672A\u77E5"}),n=_(()=>t.artifact.set in N.set?`./assets/artifacts/${t.artifact.set}/${t.artifact.slot}.webp`:""),s=d=>{let m=N.affix[d];return m.endsWith("%")&&(m=m.substring(0,m.length-1)),m},k=_(()=>{if(t.artifact.mainKey in G.mainStat){let d=t.artifact.mainKey,m=G.mainStat[t.artifact.mainKey][t.artifact.level];return{name:N.affix[d],value:new X({key:d,value:m}).valueString()}}else return{name:"\u672A\u77E5",value:0}}),F=_(()=>`+${t.artifact.level}`),p=_(()=>{let d=[];for(let m of t.artifact.minors){let v=s(m.key),w;u.state.artMode.showAffnum?(["atkp","defp","hpp"].includes(m.key)&&(v+="%"),w=m.value/G.minorStat[m.key].v/.85,u.state.artMode.useMaxAsUnit&&(w*=.85),w=w.toFixed(1)):w=m.valueString(),d.push({text:`${v}+${w}`,style:`opacity: ${u.state.weightInUse[m.key]>0?1:.5};`,count:Math.ceil(Math.round(m.value/G.minorStat[m.key].v*10)/10)})}return d}),C=_(()=>{let d=t.artifact.data.affnum;return u.state.artMode.useMaxAsUnit?{cur:(d.cur*.85).toFixed(1),avg:(d.avg*.85).toFixed(1),max:(d.max*.85).toFixed(1),min:(d.min*.85).toFixed(1)}:{cur:d.cur.toFixed(1),avg:d.avg.toFixed(1),max:d.max.toFixed(1),min:d.min.toFixed(1)}}),S=_(()=>t.artifact.lock?"./assets/game_icons/lock.webp":"./assets/game_icons/unlock.webp"),$=_(()=>({"artifact-card":!0,"select-mode":t.selectMode,selected:t.selected})),M=d=>{e("flipSelect",d.shiftKey)},A="./assets/stars.webp",g=_(()=>t.artifact.location in N.character?`./assets/char_sides/${t.artifact.location}.webp`:""),f=()=>{t.readonly||e("flipLock")},y=_(()=>t.artifact.data.charScores.map(d=>`${N.character[d.charKey]}${(d.score*100).toFixed(1)}%`).join(" "));return(d,m)=>{const v=Xe;return B(),x("div",{class:ee(r($)),title:r(y)},[c("div",Wt,[c("div",Jt,[c("div",Yt,R(r(a)),1),c("div",qt,R(r(k).name),1),c("div",Xt,R(r(k).value),1),c("img",{src:A})]),c("div",Qt,[c("img",{src:r(n)},null,8,Zt)])]),c("div",el,[c("div",tl,[c("span",ll,R(r(F)),1),c("span",ul,R(r(C).cur),1),c("div",al,[c("img",{src:r(S),onClick:f,class:ee(l.readonly?"readonly":"")},null,10,sl)])]),c("div",ol,[(B(!0),x(I,null,j(r(p),w=>(B(),x("div",{class:"minor-affix",style:He(w.style)},[c("span",nl,R(w.count),1),c("span",null,R(w.text),1)],4))),256))]),l.artifact.level<20?(B(),x("div",rl,[c("div",il,"\u6700\u5C0F"+R(r(C).min),1),c("div",dl,"\u671F\u671B"+R(r(C).avg),1),c("div",cl,"\u6700\u5927"+R(r(C).max),1)])):(B(),x("div",pl,"\u5DF2\u6EE1\u7EA7\uFF0C"+R(r(C).cur)+"\u8BCD\u6761",1))]),te(c("div",ml,[c("img",{src:r(g)},null,8,fl)],512),[[ae,r(g)]]),te(c("div",{class:"select-box",onClick:M},null,512),[[ae,!l.readonly]]),te(c("div",{class:"edit-box",onClick:m[0]||(m[0]=w=>e("edit"))},[o(v,{size:16},{default:i(()=>[o(r(Et))]),_:1}),hl],512),[[ae,!l.readonly]]),te(c("div",{class:"defeat-num"},R(-l.artifact.data.defeat),513),[[ae,l.artifact.data.defeat]])],10,jt)}}});var Ce=ie(vl,[["__scopeId","data-v-93a81254"]]);const _l=L("\u4E3B\u8981\u5C5E\u6027"),Bl=c("span",null,"\u89D2\u8272",-1),gl=c("span",null,"\u7B49\u7EA7",-1),yl=L("\u526F\u8BCD\u6761"),kl=L("\u9884\u89C8"),Cl={class:"art-preview-split"},Fl={class:"equip-msg"},bl=L("\u4FDD\u5B58"),El=Q({props:{modelValue:{type:Boolean},index:null},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=le(),a=_({get(){return t.modelValue},set(E){e("update:modelValue",E)}}),n=_(()=>{let E={};for(let W in q)q[W].element in E?E[q[W].element].push(W):E[q[W].element]=[W];let O=[{label:"",options:[{value:"",label:"\u95F2\u7F6E"}]}];for(let W in E)O.push({label:N.element[W]||"",options:E[W].map(H=>({value:H,label:N.character[H]}))});return O}),s=G.minorKeys.map(E=>({value:E,label:N.affix[E]}));let k={};const F=T(!1),p=T(new re),C=()=>{F.value=!0,p.value.updateAffnum(u.state.weightInUse)},S=_(()=>{for(let O in q)k[O]={flower:!1,plume:!1,sands:!1,goblet:!1,circlet:!1};let E=new re;for(let O of u.state.artifacts)O.data.index===t.index&&(p.value=new re(O),p.value.data.affnum=Oe({},O.data.affnum),E=O),O.location in k&&(k[O.location][O.slot]=!0);return F.value=!1,E}),$=_({get(){return p.value.location},set(E){p.value.location=E,F.value=!0}}),M=_({get(){return p.value.level},set(E){p.value.level=E,C()}}),A=_({get(){return p.value.minors.length>=1?p.value.minors[0].key:""},set(E){p.value.minors.length>=1?p.value.minors[0].key=E:p.value.minors.push(new X({key:E,value:0})),C()}}),g=_({get(){return p.value.minors.length>=1?p.value.minors[0].value:0},set(E){p.value.minors.length>=1?p.value.minors[0].value=E:p.value.minors.push(new X({key:"atk",value:E})),C()}}),f=_({get(){return p.value.minors.length>=2?p.value.minors[1].key:""},set(E){p.value.minors.length>=2?p.value.minors[1].key=E:p.value.minors.push(new X({key:E,value:0})),C()}}),y=_({get(){return p.value.minors.length>=2?p.value.minors[1].value:0},set(E){p.value.minors.length>=2?p.value.minors[1].value=E:p.value.minors.push(new X({key:"atk",value:E})),C()}}),d=_({get(){return p.value.minors.length>=3?p.value.minors[2].key:""},set(E){p.value.minors.length>=3?p.value.minors[2].key=E:p.value.minors.push(new X({key:E,value:0})),C()}}),m=_({get(){return p.value.minors.length>=3?p.value.minors[2].value:0},set(E){p.value.minors.length>=3?p.value.minors[2].value=E:p.value.minors.push(new X({key:"atk",value:E})),C()}}),v=_({get(){return p.value.minors.length>=4?p.value.minors[3].key:""},set(E){E==""?p.value.minors.length==4&&p.value.minors.pop():p.value.minors.length>=4?p.value.minors[3].key=E:p.value.minors.push(new X({key:E,value:0})),C()}}),w=_({get(){return p.value.minors.length>=4?p.value.minors[3].value:0},set(E){p.value.minors.length>=4?p.value.minors[3].value=E:p.value.minors.push(new X({key:"atk",value:E})),C()}}),V=_(()=>S.value.location!=p.value.location&&p.value.location&&k[p.value.location][p.value.slot]),h=_(()=>{if(V.value){let E=N.character[p.value.location];return S.value.location?`\u5C06\u4E0E ${E} \u7684\u5723\u9057\u7269\u5BF9\u8C03`:`\u5C06\u66FF\u6362 ${E} \u7684\u5723\u9057\u7269`}else return""}),b=()=>{u.dispatch("updArtifact",{index:t.index,newArt:p.value,toSwap:V.value}),e("update:modelValue",!1)};return(E,O)=>{const W=Qe,H=we,Y=De,oe=wt,de=Ve,ce=Ie,D=Ae,P=me,Z=fe;return B(),z(Z,{modelValue:r(a),"onUpdate:modelValue":O[10]||(O[10]=K=>U(a)?a.value=K:null),title:"\u5C5E\u6027\u7F16\u8F91\u5668",top:"8vh"},{default:i(()=>[o(W,null,{default:i(()=>[_l]),_:1}),o(D,{gutter:20},{default:i(()=>[o(H,{span:3},{default:i(()=>[Bl]),_:1}),o(H,{span:9},{default:i(()=>[o(de,{modelValue:r($),"onUpdate:modelValue":O[0]||(O[0]=K=>U($)?$.value=K:null)},{default:i(()=>[(B(!0),x(I,null,j(r(n),K=>(B(),z(oe,{label:K.label},{default:i(()=>[(B(!0),x(I,null,j(K.options,J=>(B(),z(Y,{value:J.value,label:J.label},null,8,["value","label"]))),256))]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(H,{span:3},{default:i(()=>[gl]),_:1}),o(H,{span:9},{default:i(()=>[o(ce,{modelValue:r(M),"onUpdate:modelValue":O[1]||(O[1]=K=>U(M)?M.value=K:null),min:0,max:20},null,8,["modelValue"])]),_:1})]),_:1}),o(W,null,{default:i(()=>[yl]),_:1}),o(D,{gutter:20},{default:i(()=>[o(H,{span:12},{default:i(()=>[o(de,{modelValue:r(A),"onUpdate:modelValue":O[2]||(O[2]=K=>U(A)?A.value=K:null)},{default:i(()=>[(B(!0),x(I,null,j(r(s),K=>(B(),z(Y,{label:K.label,value:K.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(H,{span:12},{default:i(()=>[o(ce,{modelValue:r(g),"onUpdate:modelValue":O[3]||(O[3]=K=>U(g)?g.value=K:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(D,{gutter:20},{default:i(()=>[o(H,{span:12},{default:i(()=>[o(de,{modelValue:r(f),"onUpdate:modelValue":O[4]||(O[4]=K=>U(f)?f.value=K:null)},{default:i(()=>[(B(!0),x(I,null,j(r(s),K=>(B(),z(Y,{label:K.label,value:K.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(H,{span:12},{default:i(()=>[o(ce,{modelValue:r(y),"onUpdate:modelValue":O[5]||(O[5]=K=>U(y)?y.value=K:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(D,{gutter:20},{default:i(()=>[o(H,{span:12},{default:i(()=>[o(de,{modelValue:r(d),"onUpdate:modelValue":O[6]||(O[6]=K=>U(d)?d.value=K:null)},{default:i(()=>[(B(!0),x(I,null,j(r(s),K=>(B(),z(Y,{label:K.label,value:K.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(H,{span:12},{default:i(()=>[o(ce,{modelValue:r(m),"onUpdate:modelValue":O[7]||(O[7]=K=>U(m)?m.value=K:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(D,{gutter:20},{default:i(()=>[o(H,{span:12},{default:i(()=>[o(de,{modelValue:r(v),"onUpdate:modelValue":O[8]||(O[8]=K=>U(v)?v.value=K:null)},{default:i(()=>[o(Y,{label:"\u7A7A",value:""}),(B(!0),x(I,null,j(r(s),K=>(B(),z(Y,{label:K.label,value:K.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(H,{span:12},{default:i(()=>[o(ce,{modelValue:r(w),"onUpdate:modelValue":O[9]||(O[9]=K=>U(w)?w.value=K:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(W,null,{default:i(()=>[kl]),_:1}),o(D,{justify:"center"},{default:i(()=>[o(Ce,{artifact:r(S),readonly:!0},null,8,["artifact"]),te(c("div",Cl,"\u21D2",512),[[ae,F.value]]),te(o(Ce,{artifact:p.value,readonly:!0},null,8,["artifact"]),[[ae,F.value]])]),_:1}),c("p",Fl,R(r(h)),1),o(D,{justify:"center",style:{"margin-top":"30px"}},{default:i(()=>[o(P,{type:"primary",onClick:b},{default:i(()=>[bl]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),wl=L("\u4E3B\u8981\u5C5E\u6027"),Dl=c("span",null,"\u5957\u88C5",-1),Vl=c("span",null,"\u4E3B\u8BCD\u6761",-1),Al=c("span",null,"\u90E8\u4F4D",-1),Sl=c("span",null,"\u7B49\u7EA7",-1),xl=L("\u526F\u8BCD\u6761"),$l=L("\u9884\u89C8"),Ol=L("\u6DFB\u52A0"),Tl=Q({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=le(),a=_({get(){return t.modelValue},set(h){e("update:modelValue",h)}}),n=G.minorKeys.map(h=>({value:h,label:N.affix[h]})),s=T(new re({slot:"flower",mainKey:"hp"})),k=()=>{s.value.updateAffnum(u.state.weightInUse)},F=Object.entries(N.set).map(([h,b])=>({value:h,label:b})),p=Object.entries(N.slot).map(([h,b])=>({value:h,label:b})),C=_({get(){return s.value.slot},set(h){s.value.slot=h,G.mainKeys[h].includes(s.value.mainKey)||(s.value.mainKey=G.mainKeys[h][0])}}),S=_(()=>s.value.slot in G.mainKeys?G.mainKeys[s.value.slot].map(h=>({value:h,label:N.affix[h]})):[]),$=_({get(){return s.value.level},set(h){s.value.level=h,k()}}),M=_({get(){return s.value.minors.length>=1?s.value.minors[0].key:""},set(h){s.value.minors.length>=1?s.value.minors[0].key=h:s.value.minors.push(new X({key:h,value:0})),k()}}),A=_({get(){return s.value.minors.length>=1?s.value.minors[0].value:0},set(h){s.value.minors.length>=1?s.value.minors[0].value=h:s.value.minors.push(new X({key:"atk",value:h})),k()}}),g=_({get(){return s.value.minors.length>=2?s.value.minors[1].key:""},set(h){s.value.minors.length>=2?s.value.minors[1].key=h:s.value.minors.push(new X({key:h,value:0})),k()}}),f=_({get(){return s.value.minors.length>=2?s.value.minors[1].value:0},set(h){s.value.minors.length>=2?s.value.minors[1].value=h:s.value.minors.push(new X({key:"atk",value:h})),k()}}),y=_({get(){return s.value.minors.length>=3?s.value.minors[2].key:""},set(h){s.value.minors.length>=3?s.value.minors[2].key=h:s.value.minors.push(new X({key:h,value:0})),k()}}),d=_({get(){return s.value.minors.length>=3?s.value.minors[2].value:0},set(h){s.value.minors.length>=3?s.value.minors[2].value=h:s.value.minors.push(new X({key:"atk",value:h})),k()}}),m=_({get(){return s.value.minors.length>=4?s.value.minors[3].key:""},set(h){h==""?s.value.minors.length==4&&s.value.minors.pop():s.value.minors.length>=4?s.value.minors[3].key=h:s.value.minors.push(new X({key:h,value:0})),k()}}),v=_({get(){return s.value.minors.length>=4?s.value.minors[3].value:0},set(h){s.value.minors.length>=4?s.value.minors[3].value=h:s.value.minors.push(new X({key:"atk",value:h})),k()}}),w=_(()=>s.value.set in N.set&&s.value.minors.length>=3),V=()=>{let h=new re({set:s.value.set,slot:s.value.slot,level:s.value.level,mainKey:s.value.mainKey,minors:s.value.minors.map(b=>new X(b))});u.dispatch("addArtifacts",{artifacts:[h]}),e("update:modelValue",!1)};return(h,b)=>{const E=Qe,O=we,W=De,H=Ve,Y=Ae,oe=Ie,de=me,ce=fe;return B(),z(ce,{modelValue:r(a),"onUpdate:modelValue":b[12]||(b[12]=D=>U(a)?a.value=D:null),title:"\u624B\u52A8\u6DFB\u52A0\u5723\u9057\u7269",top:"8vh"},{default:i(()=>[o(E,null,{default:i(()=>[wl]),_:1}),o(Y,{gutter:20},{default:i(()=>[o(O,{span:3},{default:i(()=>[Dl]),_:1}),o(O,{span:9},{default:i(()=>[o(H,{modelValue:s.value.set,"onUpdate:modelValue":b[0]||(b[0]=D=>s.value.set=D)},{default:i(()=>[(B(!0),x(I,null,j(r(F),D=>(B(),z(W,{value:D.value,label:D.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(O,{span:3},{default:i(()=>[Vl]),_:1}),o(O,{span:9},{default:i(()=>[o(H,{modelValue:s.value.mainKey,"onUpdate:modelValue":b[1]||(b[1]=D=>s.value.mainKey=D)},{default:i(()=>[(B(!0),x(I,null,j(r(S),D=>(B(),z(W,{value:D.value,label:D.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(Y,{gutter:20},{default:i(()=>[o(O,{span:3},{default:i(()=>[Al]),_:1}),o(O,{span:9},{default:i(()=>[o(H,{modelValue:r(C),"onUpdate:modelValue":b[2]||(b[2]=D=>U(C)?C.value=D:null)},{default:i(()=>[(B(!0),x(I,null,j(r(p),D=>(B(),z(W,{value:D.value,label:D.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(O,{span:3},{default:i(()=>[Sl]),_:1}),o(O,{span:9},{default:i(()=>[o(oe,{modelValue:r($),"onUpdate:modelValue":b[3]||(b[3]=D=>U($)?$.value=D:null),min:0,max:20},null,8,["modelValue"])]),_:1})]),_:1}),o(E,null,{default:i(()=>[xl]),_:1}),o(Y,{gutter:20},{default:i(()=>[o(O,{span:12},{default:i(()=>[o(H,{modelValue:r(M),"onUpdate:modelValue":b[4]||(b[4]=D=>U(M)?M.value=D:null)},{default:i(()=>[(B(!0),x(I,null,j(r(n),D=>(B(),z(W,{label:D.label,value:D.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(O,{span:12},{default:i(()=>[o(oe,{modelValue:r(A),"onUpdate:modelValue":b[5]||(b[5]=D=>U(A)?A.value=D:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(Y,{gutter:20},{default:i(()=>[o(O,{span:12},{default:i(()=>[o(H,{modelValue:r(g),"onUpdate:modelValue":b[6]||(b[6]=D=>U(g)?g.value=D:null)},{default:i(()=>[(B(!0),x(I,null,j(r(n),D=>(B(),z(W,{label:D.label,value:D.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(O,{span:12},{default:i(()=>[o(oe,{modelValue:r(f),"onUpdate:modelValue":b[7]||(b[7]=D=>U(f)?f.value=D:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(Y,{gutter:20},{default:i(()=>[o(O,{span:12},{default:i(()=>[o(H,{modelValue:r(y),"onUpdate:modelValue":b[8]||(b[8]=D=>U(y)?y.value=D:null)},{default:i(()=>[(B(!0),x(I,null,j(r(n),D=>(B(),z(W,{label:D.label,value:D.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(O,{span:12},{default:i(()=>[o(oe,{modelValue:r(d),"onUpdate:modelValue":b[9]||(b[9]=D=>U(d)?d.value=D:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(Y,{gutter:20},{default:i(()=>[o(O,{span:12},{default:i(()=>[o(H,{modelValue:r(m),"onUpdate:modelValue":b[10]||(b[10]=D=>U(m)?m.value=D:null)},{default:i(()=>[o(W,{label:"\u7A7A",value:""}),(B(!0),x(I,null,j(r(n),D=>(B(),z(W,{label:D.label,value:D.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(O,{span:12},{default:i(()=>[o(oe,{modelValue:r(v),"onUpdate:modelValue":b[11]||(b[11]=D=>U(v)?v.value=D:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(E,null,{default:i(()=>[$l]),_:1}),o(Y,{justify:"center"},{default:i(()=>[o(Ce,{artifact:s.value,readonly:!0},null,8,["artifact"])]),_:1}),o(Y,{justify:"center",style:{"margin-top":"30px"}},{default:i(()=>[o(de,{type:"primary",disabled:!r(w),onClick:V},{default:i(()=>[Ol]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"])}}}),Ml=c("span",null,"\u5957\u88C5",-1),Kl=c("span",null,"\u90E8\u4F4D",-1),Ul=c("span",null,"\u4E3B\u8BCD\u6761",-1),Rl=c("span",null,"\u7B49\u7EA7",-1),Nl=c("span",null,"\u4E2A\u6570",-1),Gl=L("\u751F\u6210"),Hl=Q({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=le(),a=_({get(){return t.modelValue},set(g){e("update:modelValue",g)}});G.minorKeys.map(g=>({value:g,label:N.affix[g]}));const n=Object.entries(N.set).map(([g,f])=>({value:g,label:f})),s=T([]),k=Object.entries(N.slot).map(([g,f])=>({value:g,label:f})),F=T("");Se(F,()=>{F.value in G.mainKeys&&G.mainKeys[F.value].includes(C.value)||(C.value="")});const p=_(()=>F.value in G.mainKeys?G.mainKeys[F.value].map(g=>({value:g,label:N.affix[g]})):[]),C=T(""),S=T(0),$=T(1),M=_(()=>s.value.length),A=()=>{let g=[];for(let f=0;f<$.value;++f)g.push(re.rand({sets:s.value,slot:F.value,mainKey:C.value,level:S.value}));u.dispatch("addArtifacts",{artifacts:g}),e("update:modelValue",!1)};return(g,f)=>{const y=we,d=De,m=Ve,v=Ae,w=Ie,V=me,h=fe;return B(),z(h,{modelValue:r(a),"onUpdate:modelValue":f[5]||(f[5]=b=>U(a)?a.value=b:null),title:"\u968F\u673A\u5723\u9057\u7269\u751F\u6210\u5668",top:"8vh"},{default:i(()=>[o(v,{gutter:20},{default:i(()=>[o(y,{span:3},{default:i(()=>[Ml]),_:1}),o(y,{span:21},{default:i(()=>[o(m,{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=b=>s.value=b),multiple:"",clearable:"",style:{width:"100%"}},{default:i(()=>[(B(!0),x(I,null,j(r(n),b=>(B(),z(d,{value:b.value,label:b.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(v,{gutter:20},{default:i(()=>[o(y,{span:3},{default:i(()=>[Kl]),_:1}),o(y,{span:9},{default:i(()=>[o(m,{modelValue:F.value,"onUpdate:modelValue":f[1]||(f[1]=b=>F.value=b)},{default:i(()=>[o(d,{value:"",label:"\u4EFB\u610F"}),(B(!0),x(I,null,j(r(k),b=>(B(),z(d,{value:b.value,label:b.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(y,{span:3},{default:i(()=>[Ul]),_:1}),o(y,{span:9},{default:i(()=>[o(m,{modelValue:C.value,"onUpdate:modelValue":f[2]||(f[2]=b=>C.value=b)},{default:i(()=>[o(d,{value:"",label:"\u4EFB\u610F"}),(B(!0),x(I,null,j(r(p),b=>(B(),z(d,{value:b.value,label:b.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(v,{gutter:20},{default:i(()=>[o(y,{span:3},{default:i(()=>[Rl]),_:1}),o(y,{span:9},{default:i(()=>[o(w,{modelValue:S.value,"onUpdate:modelValue":f[3]||(f[3]=b=>S.value=b),min:0,max:20},null,8,["modelValue"])]),_:1}),o(y,{span:3},{default:i(()=>[Nl]),_:1}),o(y,{span:9},{default:i(()=>[o(w,{modelValue:$.value,"onUpdate:modelValue":f[4]||(f[4]=b=>$.value=b),min:1},null,8,["modelValue"])]),_:1})]),_:1}),o(v,{justify:"center",style:{"margin-top":"30px"}},{default:i(()=>[o(V,{type:"primary",disabled:!r(M),onClick:A},{default:i(()=>[Gl]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"])}}});var pt={keymap:{set:{GladiatorsFinale:"gladiatorFinale",WanderersTroupe:"wandererTroupe",Thundersoother:"thunderSmoother",ThunderingFury:"thunderingFury",MaidenBeloved:"maidenBeloved",ViridescentVenerer:"viridescentVenerer",CrimsonWitchOfFlames:"crimsonWitch",Lavawalker:"lavaWalker",NoblesseOblige:"noblesseOblige",BloodstainedChivalry:"bloodstainedChivalry",ArchaicPetra:"archaicPetra",RetracingBolide:"retracingBolide",BlizzardStrayer:"blizzardStrayer",HeartOfDepth:"heartOfDepth",TenacityOfTheMillelith:"tenacityOfTheMillelith",PaleFlame:"paleFlame",ShimenawasReminiscence:"shimenawaReminiscence",EmblemOfSeveredFate:"emblemOfSeveredFate",HuskOfOpulentDreams:"huskOfOpulentDreams",OceanHuedClam:"oceanHuedClam",VermillionHereafter:"VermillionHereafter",EchoesOfAnOffering:"EchoesOfAnOffering",DeepwoodMemories:"DeepwoodMemories",GildedDreams:"GildedDreams"},affix:{hp:"lifeStatic",atk:"attackStatic",def:"defendStatic",hpp:"lifePercentage",atkp:"attackPercentage",defp:"defendPercentage",em:"elementalMastery",er:"recharge",hb:"cureEffect",cr:"critical",cd:"criticalDamage",pyroDB:"fireBonus",hydroDB:"waterBonus",electroDB:"thunderBonus",anemoDB:"windBonus",cryoDB:"iceBonus",geoDB:"rockBonus",physicalDB:"physicalBonus",dendroDB:"dendroBonus"},slot:{flower:"flower",plume:"feather",sands:"sand",goblet:"cup",circlet:"head"}},getAffix(l,e){return l=se(l,this.keymap.affix),["hp","atk","def","em"].includes(l)||(e=e*100,e=parseFloat(e.toFixed(1))),new X({key:l,value:e})},loads(l){let e=JSON.parse(l);he(e instanceof Object);let t=[];const u=["flower","feather","sand","cup","head"];for(let a of u){he(a in e&&e[a]instanceof Array);for(let n of e[a]){if(n.star!==5)continue;let s=se(n.setName,this.keymap.set);if(!s){console.warn(`Ignoring unrecognized artifact: ${n.setName}`);continue}let k=new re;k.set=s,k.slot=se(a,this.keymap.slot),k.level=n.level,k.rarity=n.star,k.mainKey=se(n.mainTag.name,this.keymap.affix);for(let F of n.normalTags)k.minors.push(this.getAffix(F.name,F.value));k.data.index=t.length,k.data.source="*/mona",t.push(k)}}return t},dumps(l){let e={flower:[],feather:[],sand:[],cup:[],head:[]};for(let t of l){let u=this.keymap.slot[t.slot];e[u].push({setName:this.keymap.set[t.set],position:u,mainTag:{name:this.keymap.affix[t.mainKey],value:["hp","atk","em"].includes(t.mainKey)?G.mainStat[t.mainKey][t.level]:G.mainStat[t.mainKey][t.level]/100},normalTags:t.minors.map(a=>({name:this.keymap.affix[a.key],value:["hp","atk","def","em"].includes(a.key)?a.value:a.value/100})),omit:!1,star:t.rarity,level:t.level})}return JSON.stringify(e)}},mt={keymap:{set:{GladiatorsFinale:"gladiators_finale",WanderersTroupe:"wanderers_troupe",Thundersoother:"thundersoother",ThunderingFury:"thundering_fury",MaidenBeloved:"maiden_beloved",ViridescentVenerer:"viridescent_venerer",CrimsonWitchOfFlames:"crimson_witch_of_flames",Lavawalker:"lavawalker",NoblesseOblige:"noblesse_oblige",BloodstainedChivalry:"bloodstained_chivalry",ArchaicPetra:"archaic_petra",RetracingBolide:"retracing_bolide",BlizzardStrayer:"blizzard_walker",HeartOfDepth:"heart_of_depth",TenacityOfTheMillelith:"tenacity_of_the_millelith",PaleFlame:"pale_flame",ShimenawasReminiscence:"reminiscence_of_shime",EmblemOfSeveredFate:"seal_of_insulation",HuskOfOpulentDreams:"husk_of_opulent_dreams",OceanHuedClam:"divine_chorus",VermillionHereafter:"vermillion_hereafter",EchoesOfAnOffering:"echoes_of_an_offering",DeepwoodMemories:"deepwood_memories",GildedDreams:"gilded_dreams"},affix:{hp:"flatHP",atk:"flatATK",def:"flatDEF",hpp:"percentHP",atkp:"percentATK",defp:"percentDEF",em:"elementalMastery",er:"energyRecharge",hb:"healing",cr:"critRate",cd:"critDamage",pyroDB:"pyroDamage",hydroDB:"hydroDamage",electroDB:"electroDamage",anemoDB:"anemoDamage",cryoDB:"cryoDamage",geoDB:"geoDamage",physicalDB:"physicalDamage",dendroDB:"dendroDamage"},slot:{flower:"flower",plume:"plume",sands:"eon",goblet:"goblet",circlet:"circlet"}},getSubStatType(l,e){return e<l.minors.length?this.keymap.affix[l.minors[e].key]:"flatATK"},getSubStatValue(l,e){return e<l.minors.length?l.minors[e].value:0},loads(l){let e=JSON.parse(l);he(e instanceof Array);let t=[];for(let u of e){if(u.rarity!==5)continue;let a=se(u.asKey,this.keymap.set);if(!a){console.warn(`Ignoring unrecognized artifact: ${u.asKey}`);continue}let n=new re;n.set=a,n.slot=se(u.slot,this.keymap.slot),n.level=u.level,n.rarity=u.rarity,n.mainKey=se(u.mainStat,this.keymap.affix),n.minors.push(new X({key:se(u.subStat1Type,this.keymap.affix),value:u.subStat1Value})),n.minors.push(new X({key:se(u.subStat2Type,this.keymap.affix),value:u.subStat2Value})),n.minors.push(new X({key:se(u.subStat3Type,this.keymap.affix),value:u.subStat3Value})),u.subStat4Value&&n.minors.push(new X({key:se(u.subStat4Type,this.keymap.affix),value:u.subStat4Value})),n.data.index=t.length,n.data.source="*/genmo",t.push(n)}return t},dumps(l){let e=[];for(let t of l)e.push({asKey:this.keymap.set[t.set],rarity:t.rarity,slot:this.keymap.slot[t.slot],level:t.level,mainStat:this.keymap.affix[t.mainKey],subStat1Type:this.getSubStatType(t,0),subStat1Value:this.getSubStatValue(t,0),subStat2Type:this.getSubStatType(t,1),subStat2Value:this.getSubStatValue(t,1),subStat3Type:this.getSubStatType(t,2),subStat3Value:this.getSubStatValue(t,2),subStat4Type:this.getSubStatType(t,3),subStat4Value:this.getSubStatValue(t,3)});return JSON.stringify(e)}},ft={keymap:{affix:{hp:"hp",atk:"atk",def:"def",hpp:"hp_",atkp:"atk_",defp:"def_",em:"eleMas",er:"enerRech_",hb:"heal_",cr:"critRate_",cd:"critDMG_",pyroDB:"pyro_dmg_",hydroDB:"hydro_dmg_",electroDB:"electro_dmg_",anemoDB:"anemo_dmg_",cryoDB:"cryo_dmg_",geoDB:"geo_dmg_",physicalDB:"physical_dmg_",dendroDB:"dendro_dmg_"}},loads(l){let e=JSON.parse(l);he(typeof e=="object"&&"artifacts"in e),he(e.artifacts instanceof Array);let t=(e.source||"*")+"/good",u=[];for(let a of e.artifacts){if(a.rarity!==5)continue;let n=new re({set:a.setKey,slot:a.slotKey,level:a.level,rarity:a.rarity,location:a.location,lock:a.lock,mainKey:se(a.mainStatKey,this.keymap.affix),minors:a.substats.map(s=>({key:se(s.key,this.keymap.affix),value:s.value}))});n.data.index=u.length,n.data.source=t,u.push(n)}return u},dumps(l){let e={format:"GOOD",version:1,source:"yas-lock",artifacts:[]};for(let t of l)e.artifacts.push({setKey:t.set,slotKey:t.slot,level:t.level,rarity:t.rarity,lock:t.lock,location:t.location,mainStatKey:this.keymap.affix[t.mainKey],substats:t.minors.map(u=>({key:this.keymap.affix[u.key],value:u.value}))});return JSON.stringify(e)}};function ht(l,e){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(l)),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}const Il=L("\u83AB\u5A1C\u5360\u535C\u94FA"),Ll=L("\u539F\u9B54\u8BA1\u7B97\u5668"),Pl=L("Genshin Optimizer"),zl={style:{"margin-top":"10px"}},jl={style:{"margin-top":"10px"}},Wl={style:{"margin-top":"10px","text-align":"center"}},Jl=L("\u4E0B\u8F7D"),Yl=L("\u590D\u5236"),ql=Q({props:{modelValue:{type:Boolean},artifacts:null},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=_({get(){return t.modelValue},set(p){e("update:modelValue",p)}}),a=T("mona"),n=_(()=>{switch(s.value="",a.value){case"mona":return pt.dumps(t.artifacts);case"genmo":return mt.dumps(t.artifacts);case"good":return ft.dumps(t.artifacts);default:return"\u672A\u77E5\u683C\u5F0F"}}),s=T(""),k=()=>{ht(n.value,a.value+".json")},F=()=>{navigator.clipboard.writeText(n.value).then(()=>{s.value="\u590D\u5236\u6210\u529F"},()=>{s.value="\u590D\u5236\u5931\u8D25"})};return(p,C)=>{const S=Dt,$=Vt,M=me,A=fe;return B(),z(A,{title:"\u5BFC\u51FA\u5723\u9057\u7269",modelValue:r(u),"onUpdate:modelValue":C[2]||(C[2]=g=>U(u)?u.value=g:null)},{default:i(()=>[c("div",null,[o($,{modelValue:a.value,"onUpdate:modelValue":C[0]||(C[0]=g=>a.value=g)},{default:i(()=>[o(S,{label:"mona"},{default:i(()=>[Il]),_:1}),o(S,{label:"genmo"},{default:i(()=>[Ll]),_:1}),o(S,{label:"good"},{default:i(()=>[Pl]),_:1})]),_:1},8,["modelValue"])]),c("div",zl,[o(r(At),{ref:"exportArea",type:"textarea",rows:8,resize:"none",modelValue:r(n),"onUpdate:modelValue":C[1]||(C[1]=g=>U(n)?n.value=g:null)},null,8,["modelValue"])]),c("div",jl,R(s.value),1),c("div",Wl,[o(M,{icon:r(Ze),onClick:k},{default:i(()=>[Jl]),_:1},8,["icon"]),o(M,{icon:r(St),type:"primary",onClick:F},{default:i(()=>[Yl]),_:1},8,["icon"])])]),_:1},8,["modelValue"])}}});const Xl={class:"small-title",style:{"margin-top":"10px"}},Ql=["infinite-scroll-disabled"],Zl={style:{"margin-top":"10px","text-align":"center"}},eu=Q({props:{modelValue:{type:Boolean},index:null},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=le(),a=_({get(){return t.modelValue},set(g){e("update:modelValue",g)}}),n=T([]),s=T(0),k=()=>{s.value<n.value.length&&(s.value=Math.min(n.value.length,s.value+10))},F=_(()=>s.value>=n.value.length);function p(g,f){for(let y of g)if(!f.has(y))return!1;return!0}let C=new Set(["hp","atk","def"]);Se(()=>t.modelValue,g=>{if(!g)return;let f;for(let d of u.state.artifacts)if(d.data.index==t.index){f=d;break}if(f==null){e("update:modelValue",!1);return}S.value=f.lock,f.lock;let y=new Set(f.minors.map(d=>d.key).filter(d=>!C.has(d)));n.value=[];for(let d of u.state.artifacts){if(d.data.index==t.index||d.mainKey!=f.mainKey||d.lock==f.lock)continue;let m=new Set(d.minors.map(v=>v.key).filter(v=>!C.has(v)));f.lock?p(y,m)&&n.value.push(d):p(m,y)&&n.value.push(d)}s.value=Math.min(n.value.length,10),n.value.length==0&&e("update:modelValue",!1)});const S=T(!1),$=_(()=>`\u4F60\u53EF\u80FD\u8FD8\u60F3${S.value?"\u52A0\u9501":"\u89E3\u9501"}\u4EE5\u4E0B\u5723\u9057\u7269\uFF08\u5171${n.value.length}\u4E2A\uFF09`),M=_(()=>S.value?"\u5168\u90E8\u52A0\u9501":"\u5168\u90E8\u89E3\u9501"),A=()=>{u.dispatch("setLock",{lock:S.value,indices:n.value.map(g=>g.data.index)}),e("update:modelValue",!1)};return(g,f)=>{const y=me,d=fe,m=et;return B(),z(d,{title:"\u5723\u9057\u7269\u8054\u60F3",modelValue:r(a),"onUpdate:modelValue":f[0]||(f[0]=v=>U(a)?a.value=v:null),top:"8vh"},{default:i(()=>[c("div",Xl,R(r($)),1),te((B(),x("div",{class:"preview-artifact-list","infinite-scroll-immediate":!1,"infinite-scroll-disabled":r(F)},[(B(!0),x(I,null,j(s.value,v=>(B(),z(Ce,{artifact:n.value[v-1],key:n.value[v-1].data.index,readonly:!0},null,8,["artifact"]))),128))],8,Ql)),[[m,k]]),c("div",Zl,[o(y,{type:"primary",onClick:A},{default:i(()=>[L(R(r(M)),1)]),_:1})])]),_:1},8,["modelValue"])}}});const Fe=l=>(_e("data-v-1b55f7c9"),l=l(),Be(),l),tu={class:"layout-left"},lu={class:"artifact-opts"},uu={class:"stat"},au={class:"btns"},su=Fe(()=>c("span",null,"\u5012\u5E8F",-1)),ou=Fe(()=>c("span",null,"\u8054\u60F3",-1)),nu=Fe(()=>c("span",null,"\xD70.85",-1)),ru=Fe(()=>c("span",null,"\u663E\u793A\u8BCD\u6761\u6570",-1)),iu={class:"selection-bar"},du=Fe(()=>c("div",{class:"split"},"|",-1)),cu=Fe(()=>c("div",{class:"split"},"|",-1)),pu=Fe(()=>c("div",{class:"split"},"|",-1)),mu={class:"selection-stat"},fu=Q({setup(l){const e=le(),t=_(()=>{let D=e.state.filteredArtifacts.length,P=0,Z=0;for(let K of e.state.filteredArtifacts)K.level==20&&P++,K.lock&&Z++;return`\u5171${D}\u4E2A \u6EE1\u7EA7${P}\u4E2A \u52A0\u9501${Z}\u4E2A \u89E3\u9501${D-Z}\u4E2A`}),u=D=>{e.dispatch("flipLock",{index:D}),oe.value&&(ce.value=D,de.value=!0)},a=T(!1),n=T([]),s=_(()=>new Set(n.value)),k=D=>s.value.has(D),F={index:0,selected:!0},p=(D,P)=>{if(!a.value)a.value=!0,n.value=[D],F.index=D,F.selected=!0;else if(P){if(D!==F.index){let Z=s.value,K=0,J=[D,F.index];for(let be of e.state.filteredArtifacts){let Re=!1;if(K==0&&J.includes(be.data.index)&&(K=1,Re=!0),K==1&&(F.selected?Z.add(be.data.index):Z.delete(be.data.index),!Re&&J.includes(be.data.index)))break}n.value=Array.from(Z)}}else{let Z=s.value,K;Z.has(D)?(Z.delete(D),K=!1):(Z.add(D),K=!0),n.value=Array.from(Z),F.index=D,F.selected=K}},C=()=>{n.value=[];for(let D of e.state.filteredArtifacts)n.value.push(D.data.index)},S=()=>{let D=new Set;for(let P of e.state.filteredArtifacts)D.add(P.data.index);for(let P of n.value)D.delete(P);n.value=Array.from(D)},$=()=>{e.dispatch("setLock",{lock:!0,indices:n.value}),n.value=[]},M=()=>{e.dispatch("setLock",{lock:!1,indices:n.value}),n.value=[]},A=()=>{e.dispatch("delArtifacts",{indices:n.value}),n.value=[]},g=()=>{a.value=!1,setTimeout(()=>{n.value=[]},100)},f=_(()=>`\u5DF2\u9009\u4E2D ${n.value.length}/${e.state.filteredArtifacts.length}`),y=T(!1),d=T(-1),m=D=>{d.value=D,y.value=!0},v=T(!1),w=T([]),V=()=>{w.value=e.state.filteredArtifacts.filter(D=>s.value.has(D.data.index)),v.value=!0},h=T(!1);Se(h,()=>{e.dispatch("reload")});const b=_(()=>h.value?e.state.filteredArtifacts.slice().reverse():e.state.filteredArtifacts),E=async(D,P)=>b.value.slice(D*P,(D+1)*P),O=_({get(){return e.state.artMode.useMaxAsUnit},set(D){e.commit("setArtMode",{useMaxAsUnit:D})}}),W=_({get(){return e.state.artMode.showAffnum},set(D){e.commit("setArtMode",{showAffnum:D})}}),H=T(!1),Y=T(!1),oe=T(!0),de=T(!1),ce=T(-1);return(D,P)=>{const Z=Xe,K=xe;return B(),x(I,null,[c("div",tu,[o(K,{ref:"scrollbarRef"},{default:i(()=>[c("div",lu,[c("div",uu,R(r(t)),1),c("div",au,[c("div",{class:ee({btn:!0,checked:h.value}),onClick:P[0]||(P[0]=J=>h.value=!h.value)},[o(Z,null,{default:i(()=>[o(r(xt))]),_:1}),su],2),c("div",{class:ee({btn:!0,checked:oe.value}),onClick:P[1]||(P[1]=J=>oe.value=!oe.value),title:"\u52A0\u89E3\u9501\u65F6\u8054\u60F3\u76F8\u4F3C\u5723\u9057\u7269"},[o(Z,null,{default:i(()=>[o(r($t))]),_:1}),ou],2),c("div",{class:ee({btn:!0,checked:r(O)}),onClick:P[2]||(P[2]=J=>O.value=!r(O))},[o(Z,null,{default:i(()=>[o(r(tt))]),_:1}),nu],2),c("div",{class:ee({btn:!0,checked:r(W)}),onClick:P[3]||(P[3]=J=>W.value=!r(W))},[o(Z,null,{default:i(()=>[o(r(tt))]),_:1}),ru],2),c("div",{class:"btn",onClick:P[4]||(P[4]=J=>H.value=!0),title:"\u624B\u52A8\u6DFB\u52A0"},[o(Z,null,{default:i(()=>[o(r(Ot))]),_:1})]),c("div",{class:"btn",onClick:P[5]||(P[5]=J=>Y.value=!0),title:"\u968F\u673A\u751F\u6210"},[o(Z,null,{default:i(()=>[o(r(Tt))]),_:1})])])]),(B(),z(r(Mt),{class:"artifact-grid",key:r(e).state.nReload,length:r(b).length,"page-size":50,"page-provider":E},{default:i(({item:J,style:be,index:Re})=>[c("div",{class:"artifact-cell",style:He(be)},[o(Ce,{artifact:J,"select-mode":a.value,selected:k(J.data.index),onFlipSelect:Ne=>p(J.data.index,Ne),onFlipLock:Ne=>u(J.data.index),onEdit:Ne=>m(J.data.index)},null,8,["artifact","select-mode","selected","onFlipSelect","onFlipLock","onEdit"])],4)]),_:1},8,["length"])),o(ge,{name:"pop"},{default:i(()=>[te(c("div",iu,[c("div",{class:"btn",onClick:C},"\u5168\u9009"),c("div",{class:"btn",onClick:S},"\u53CD\u9009"),du,c("div",{class:"btn",onClick:$},"\u52A0\u9501"),c("div",{class:"btn",onClick:M},"\u89E3\u9501"),cu,c("div",{class:"btn",onClick:A},"\u5220\u9664"),c("div",{class:"btn",onClick:V},"\u90E8\u5206\u5BFC\u51FA"),pu,c("div",{class:"btn",onClick:g},"\u53D6\u6D88"),c("div",mu,R(r(f)),1)],512),[[ae,a.value]])]),_:1})]),_:1},512)]),o(El,{modelValue:y.value,"onUpdate:modelValue":P[6]||(P[6]=J=>y.value=J),index:d.value},null,8,["modelValue","index"]),o(Tl,{modelValue:H.value,"onUpdate:modelValue":P[7]||(P[7]=J=>H.value=J)},null,8,["modelValue"]),o(Hl,{modelValue:Y.value,"onUpdate:modelValue":P[8]||(P[8]=J=>Y.value=J)},null,8,["modelValue"]),o(ql,{modelValue:v.value,"onUpdate:modelValue":P[9]||(P[9]=J=>v.value=J),artifacts:w.value},null,8,["modelValue","artifacts"]),o(eu,{modelValue:de.value,"onUpdate:modelValue":P[10]||(P[10]=J=>de.value=J),index:ce.value},null,8,["modelValue","index"])],64)}}});var hu=ie(fu,[["__scopeId","data-v-1b55f7c9"]]);const vu=l=>(_e("data-v-28fa0e53"),l=l(),Be(),l),_u={class:"section-title"},Bu=vu(()=>c("span",{class:"marker"},null,-1)),gu={class:"title"},yu={class:"section-opts"},ku=Q({props:{title:null},setup(l){return(e,t)=>(B(),x("div",_u,[Bu,c("span",gu,R(l.title),1),c("div",yu,[Te(e.$slots,"default",{},void 0,!0)])]))}});var Ue=ie(ku,[["__scopeId","data-v-28fa0e53"]]);const Cu=Q({props:{disabled:{type:Boolean}},emits:["click"],setup(l,{emit:e}){const t=l,u=_(()=>({"text-button":!0,disabled:t.disabled})),a=()=>{t.disabled||e("click")};return(n,s)=>(B(),x("div",{class:ee(r(u)),onClick:a},[Te(n.$slots,"default",{},void 0,!0)],2))}});var Je=ie(Cu,[["__scopeId","data-v-79fdfda3"]]);const Fu=c("p",null,[L("\u6B64\u529F\u80FD\u7528\u4E8E\u5BFC\u51FA\u52A0\u89E3\u9501\u4FE1\u606F\uFF0C\u7136\u540E\u7ECF\u7531yas-lock\u540C\u6B65\u5230\u6E38\u620F\uFF0C\u8BE6\u60C5\u89C1"),c("a",{href:"./tutorial",target:"_blank"},"\u6559\u7A0B")],-1),bu=L(" \u786E\u4FDD\u80CC\u5305\u5185\u5723\u9057\u7269\u7684"),Eu=c("b",null,"\u4F4D\u7F6E",-1),wu=L("\u6CA1\u6709\u53D1\u751F\u53D8\u5316\uFF0C\u5E76\u4E14\u6253\u5F00yas-lock\u524D\u5C06\u6253\u5F00\u5723\u9057\u7269\u80CC\u5305\u5E76\u7FFB\u5230"),Du=c("b",null,"\u6700\u9876\u90E8",-1),Vu=L("\uFF01\uFF01 "),Au={class:"small-title",style:{"margin-top":"10px"}},Su=["infinite-scroll-disabled"],xu={class:"small-title",style:{"margin-top":"10px"}},$u=["infinite-scroll-disabled"],Ou={style:{"margin-top":"10px"}},Tu=L("\u8BB0\u4F4F\u672C\u6B21\u66F4\u6539\uFF0C\u4E0B\u6B21\u5BFC\u51FA\u65F6\u5C06\u4E0D\u518D\u5305\u542B\u4EE5\u4E0A\u5723\u9057\u7269"),Mu={style:{"margin-top":"10px","text-align":"center"}},Ku=L("\u5BFC\u51FA"),Uu=Q({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=le(),a=_({get(){return t.modelValue},set(f){e("update:modelValue",f)}}),n=T([]),s=T(0),k=()=>{s.value<n.value.length&&(s.value=Math.min(n.value.length,s.value+10))},F=_(()=>s.value>=n.value.length),p=T([]),C=T(0),S=()=>{C.value<p.value.length&&(C.value=Math.min(p.value.length,C.value+10))},$=_(()=>C.value>=p.value.length);function M(f){return f.data.source=="yas-lock/good"||f.data.source=="pcap/good"}Se(()=>t.modelValue,f=>{if(!!f){n.value=[],p.value=[];for(let y of u.state.artifacts)!M(y)||(y.lock&&!y.data.lock&&n.value.push(y),!y.lock&&y.data.lock&&p.value.push(y));s.value=Math.min(n.value.length,10),C.value=Math.min(p.value.length,10)}});const A=T(!0),g=()=>{a.value=!1;let f=[];for(let y of u.state.artifacts)!M(y)||y.lock!=y.data.lock&&(f.push(y.data.index),A.value&&(y.data.lock=y.lock));f.sort((y,d)=>y-d),ht(JSON.stringify(f),"lock.json")};return(f,y)=>{const d=Kt,m=Le,v=me,w=fe,V=et;return B(),z(w,{title:"\u5BFC\u51FA\u9884\u89C8",modelValue:r(a),"onUpdate:modelValue":y[1]||(y[1]=h=>U(a)?a.value=h:null),top:"8vh"},{default:i(()=>[Fu,o(d,{type:"warning",style:{"margin-top":"10px"}},{title:i(()=>[bu,Eu,wu,Du,Vu]),_:1}),c("div",Au,"\u4EE5\u4E0B\u5723\u9057\u7269\u5C06\u88AB\u52A0\u9501 (\u5171"+R(n.value.length)+"\u4E2A)",1),te((B(),x("div",{class:"preview-artifact-list","infinite-scroll-immediate":!1,"infinite-scroll-disabled":r(F)},[(B(!0),x(I,null,j(s.value,h=>(B(),z(Ce,{artifact:n.value[h-1],key:n.value[h-1].data.index,readonly:!0},null,8,["artifact"]))),128))],8,Su)),[[V,k]]),c("div",xu,"\u4EE5\u4E0B\u5723\u9057\u7269\u5C06\u88AB\u89E3\u9501 (\u5171"+R(p.value.length)+"\u4E2A)",1),te((B(),x("div",{class:"preview-artifact-list","infinite-scroll-immediate":!1,"infinite-scroll-disabled":r($)},[(B(!0),x(I,null,j(C.value,h=>(B(),z(Ce,{artifact:p.value[h-1],key:p.value[h-1].data.index,readonly:!0},null,8,["artifact"]))),128))],8,$u)),[[V,S]]),c("div",Ou,[o(m,{modelValue:A.value,"onUpdate:modelValue":y[0]||(y[0]=h=>A.value=h)},{default:i(()=>[Tu]),_:1},8,["modelValue"])]),c("div",Mu,[o(v,{type:"primary",onClick:g},{default:i(()=>[Ku]),_:1})])]),_:1},8,["modelValue"])}}});["Traveler"].concat(Object.keys(q).filter(l=>!l.startsWith("Traveler")));Object.keys(N.set);const Ru=[];const Nu={class:"section"},Gu={class:"section-content"},Hu=L("\u5BFC\u5165"),Iu=L("\u5BFC\u51FA "),Lu=c("div",{class:"hidden"},[c("input",{type:"file",id:"file-input",accept:".json, .pcap"})],-1),Pu=Q({setup(l){const e=le(),t=T(""),u=T(!1),a=_(()=>({"import-msg":!0,ok:u.value})),n=()=>{let F=document.getElementById("file-input");F.value="",F.onchange=()=>{if(!F.files||F.files.length==0)return;let p=F.files[0],C=new FileReader;p.name.endsWith(".pcap")?(t.value="\u7C73\u54C8\u6E38\u52A0\u5F3A\u4E86\u6570\u636E\u5305\u52A0\u5BC6\uFF0C\u6682\u4E0D\u652F\u6301pcap\u6587\u4EF6\u89E3\u6790",u.value=!1):(C.onload=S=>{if(typeof C.result!="string"){t.value="\u53EF\u80FD\u4E0D\u662F\u6587\u672C\u6587\u4EF6",u.value=!1;return}let $=[],M=!1;try{$=ft.loads(C.result),M=$.length>0&&$[0].data.source=="yas-lock/good"}catch{try{$=pt.loads(C.result)}catch{try{$=mt.loads(C.result)}catch(f){console.error(f),t.value=String(f),u.value=!1;return}}}t.value=`\u6210\u529F\u5BFC\u5165${$.length}\u4E2A5\u661F\u5723\u9057\u7269`,u.value=!0,e.dispatch("setArtifacts",{artifacts:$,canExport:M})},C.readAsText(p,"UTF-8")),C.onerror=S=>{t.value="\u65E0\u6CD5\u8BFB\u53D6\u6587\u4EF6",u.value=!1},F.onchange=null},F.click()},s=()=>{window.open("./tutorial","_blank")},k=T(!1);return Me(()=>{e.dispatch("setArtifacts",{canExport:!1,artifacts:Ru})}),(F,p)=>(B(),x(I,null,[c("div",Nu,[o(Ue,{title:"\u5BFC\u5165"},{default:i(()=>[c("span",{onClick:s},"\u6559\u7A0B")]),_:1}),c("div",Gu,[o(Je,{onClick:n},{default:i(()=>[Hu]),_:1}),o(Je,{style:{"margin-left":"20px"},onClick:p[0]||(p[0]=C=>k.value=!0),disabled:!r(e).state.canExport},{default:i(()=>[Iu]),_:1},8,["disabled"]),c("p",{class:ee(r(a))},R(t.value),3)])]),Lu,o(Uu,{modelValue:k.value,"onUpdate:modelValue":p[1]||(p[1]=C=>k.value=C)},null,8,["modelValue"])],64))}});const zu=["title"],ju={class:"blank"},Wu={key:"text-blank"},Ju={key:1},Yu={key:"text-fill"},qu={key:1},Xu=Q({props:{modelValue:null},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=_(()=>{let C=0,S=0;return C=S=100*t.modelValue,`clip-path: polygon(0 0, ${S}% 0, ${C}% 100%, 0 100%);`});let a=T(!1);const n=_(()=>({"value-button":!0,dragging:a.value})),s=C=>{a.value=!0;let S=t.modelValue+C.movementX/120;S=Math.min(Math.max(S,0),1),S=Math.round(S*100)/100,e("update:modelValue",S)},k=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",k),a.value||(t.modelValue>=1?e("update:modelValue",0):t.modelValue>=.5?e("update:modelValue",1):t.modelValue>=0&&e("update:modelValue",.5)),a.value=!1},F=C=>{window.addEventListener("mousemove",s),window.addEventListener("mouseup",k)},p=_(()=>t.modelValue.toFixed(2));return(C,S)=>(B(),x("div",{class:ee(r(n)),onMousedown:F,title:r(p)},[c("div",ju,[o(ge,{name:"switch",mode:"out-in"},{default:i(()=>[r(a)?(B(),x("div",Ju,R(r(p)),1)):(B(),x("div",Wu,[Te(C.$slots,"default",{},void 0,!0)]))]),_:3})]),c("div",{class:"fill",style:He(r(u))},[o(ge,{name:"switch",mode:"out-in"},{default:i(()=>[r(a)?(B(),x("div",qu,R(r(p)),1)):(B(),x("div",Yu,[Te(C.$slots,"default",{},void 0,!0)]))]),_:3})],4)],42,zu))}});var Qu=ie(Xu,[["__scopeId","data-v-e3b9dd50"]]),Zu={\u653B\u5145:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:0,er:1,cr:0,cd:0},\u653B\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:0,er:1,cr:1,cd:1},\u653B\u5145\u7CBE\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:1,er:1,cr:1,cd:1},\u653B\u51FB\u7206\u4F24:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:0,er:0,cr:0,cd:1},\u653B\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:0,er:0,cr:1,cd:1},\u653B\u751F\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:1,defp:0,em:0,er:1,cr:1,cd:1},\u653B\u751F\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:1,defp:0,em:0,er:0,cr:1,cd:1},\u653B\u751F\u7CBE\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:.5,defp:0,em:1,er:0,cr:1,cd:1},\u653B\u7CBE\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:1,er:0,cr:1,cd:1},\u653B\u7CBE\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:1,er:1,cr:1,cd:1},\u653B\u9632\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:1,em:0,er:0,cr:1,cd:1},\u653B\u9632\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:1,em:0,er:1,cr:1,cd:1},\u751F:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:0,cr:0,cd:0},\u751F\u5145:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:0,cd:0},\u751F\u653B\u5145:{hp:0,atk:0,def:0,hpp:1,atkp:1,defp:0,em:0,er:1,cr:0,cd:0},\u751F\u7CBE:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:1,er:0,cr:0,cd:0},\u751F\u653B\u7CBE\u5145:{hp:0,atk:0,def:0,hpp:1,atkp:1,defp:0,em:1,er:1,cr:0,cd:0},\u751F\u7CBE\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:1,er:0,cr:1,cd:1},\u751F\u7CBE\u7206\u4F24:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:1,er:0,cr:0,cd:1},\u751F\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:0,cr:1,cd:1},\u751F\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:1,cd:1},\u7CBE:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:1,er:0,cr:0,cd:0},\u7CBE\u5145:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:1,er:1,cr:0,cd:0},\u7CBE\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:1,er:0,cr:1,cd:1},\u7CBE\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:1,er:1,cr:1,cd:1},\u9632\u5145:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:1,em:0,er:1,cr:0,cd:0},\u9632\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:1,em:0,er:0,cr:1,cd:1},\u5145:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:0,er:1,cr:0,cd:0}};const ea=c("p",{class:"info"},[L(" \u6570\u636E\u6765\u81EA "),c("a",{href:"http://spongem.com/ajglz/ys/ys.html"},"\u5723\u9057\u7269\u526F\u8BCD\u6761\u6570\u4FBF\u6377\u8BA1\u7B97\u5668")],-1),ta=L("\u5143\u7D20\u7C7B\u578B"),la=L("\u89D2\u8272"),ua=L("\u9884\u8BBE"),aa=L("\u5E94\u7528"),sa=Q({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=le(),a=_({get(){return t.modelValue},set(A){e("update:modelValue",A)}}),n=T(""),s=T(""),k=_(()=>{let A=[];for(let g in q)q[g].element==n.value&&A.push({value:g,label:N.character[g]});return A}),F=T(""),p=_(()=>{let A=[];for(let g in q)if(g==s.value){for(let f of q[g].presets)A.push({value:f,label:N.preset[f]});break}return A}),C=()=>{s.value="",F.value=""},S=()=>{F.value=""},$=_(()=>F.value==""),M=()=>{u.commit("usePreset",{weight:Zu[F.value]}),e("update:modelValue",!1)};return(A,g)=>{const f=we,y=De,d=Ve,m=Ae,v=me,w=fe;return B(),z(w,{title:"\u8BCD\u6761\u6743\u91CD\u9884\u8BBE",modelValue:r(a),"onUpdate:modelValue":g[3]||(g[3]=V=>U(a)?a.value=V:null)},{default:i(()=>[ea,o(m,{justify:"space-between"},{default:i(()=>[o(f,{span:8},{default:i(()=>[ta]),_:1}),o(f,{span:8},{default:i(()=>[o(d,{modelValue:n.value,"onUpdate:modelValue":g[0]||(g[0]=V=>n.value=V),onChange:C},{default:i(()=>[(B(!0),x(I,null,j(r(N).element,(V,h)=>(B(),z(y,{label:V,value:h},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(m,{justify:"space-between"},{default:i(()=>[o(f,{span:8},{default:i(()=>[la]),_:1}),o(f,{span:8},{default:i(()=>[o(d,{modelValue:s.value,"onUpdate:modelValue":g[1]||(g[1]=V=>s.value=V),onChange:S},{default:i(()=>[(B(!0),x(I,null,j(r(k),V=>(B(),z(y,{label:V.label,value:V.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(m,{justify:"space-between"},{default:i(()=>[o(f,{span:8},{default:i(()=>[ua]),_:1}),o(f,{span:8},{default:i(()=>[o(d,{modelValue:F.value,"onUpdate:modelValue":g[2]||(g[2]=V=>F.value=V)},{default:i(()=>[(B(!0),x(I,null,j(r(p),V=>(B(),z(y,{label:V.label,value:V.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(m,{justify:"center",style:{"margin-top":"30px"}},{default:i(()=>[o(v,{type:"primary",onClick:M,disabled:r($)},{default:i(()=>[aa]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"])}}});const oa=l=>(_e("data-v-0c2f1338"),l=l(),Be(),l),na={class:"section"},ra=oa(()=>c("p",{class:"info"},"\u70B9\u6309\u7C97\u8C03\uFF0C\u62D6\u62FD\u5FAE\u8C03\uFF0C\u60AC\u505C\u67E5\u770B\u6570\u503C",-1)),ia=Q({setup(l){const e=le(),t=(n,s)=>{e.commit("setWeight",{key:n,value:s})},u=T(!1),a=()=>{u.value=!0};return(n,s)=>(B(),x(I,null,[c("div",na,[o(Ue,{title:"\u8BCD\u6761\u6743\u91CD"},{default:i(()=>[c("span",{onClick:a},"\u9884\u8BBE")]),_:1}),ra,(B(!0),x(I,null,j(r(e).state.weight,(k,F)=>(B(),z(Qu,{class:"weight-button","model-value":r(e).state.weight[F],"onUpdate:modelValue":p=>t(F,p)},{default:i(()=>[L(R(r(N).affix[F]),1)]),_:2},1032,["model-value","onUpdate:modelValue"]))),256))]),o(sa,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=k=>u.value=k)},null,8,["modelValue"])],64))}});var da=ie(ia,[["__scopeId","data-v-0c2f1338"]]),Ye="assets/arrow.webp";const vt=l=>(_e("data-v-13a14e81"),l=l(),Be(),l),ca=["src"],pa=vt(()=>c("img",{class:"select-arrow",src:Ye},null,-1)),ma={class:"title"},fa={class:"options-header"},ha={class:"option-content"},va=vt(()=>c("span",{class:"label"},"\u5168\u9009",-1)),_a={class:"tip"},Ba={class:"option"},ga={class:"option-content"},ya=["src"],ka={class:"label"},Ca={class:"tip"},Fa=Q({props:{options:null,modelValue:null,title:null,useIcon:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=T(!1),a=T(!1),n=T(),s=d=>{u.value?u.value=!1:(u.value=!0,a.value=!1,Me(()=>{let m=Math.min(360,n.value.clientHeight),v=n.value.getBoundingClientRect();n.value.style.height=m+"px",a.value=v.top+m>window.innerHeight}))},k=T(),F=d=>{k.value.contains(d.relatedTarget)||(u.value=!1)},p=_(()=>JSON.stringify(t.options)),C=_({get(){return t.modelValue.length==t.options.length},set(d){e("update:modelValue",t.options.map(m=>m.key))}}),S=_(()=>t.modelValue.length>0&&t.modelValue.length<t.options.length),$=_({get(){return t.modelValue},set(d){e("update:modelValue",d)}}),M=d=>{d?e("update:modelValue",t.options.map(m=>m.key)):e("update:modelValue",[])},A=_(()=>({"drop-select":!0,show:u.value})),g=_(()=>({options:!0,top:a.value})),f=_(()=>t.options.filter(d=>t.modelValue.includes(d.key))),y=_(()=>`${t.modelValue.length} / ${t.options.length}`);return(d,m)=>{const v=Le,w=lt,V=xe;return B(),x("div",{class:ee(r(A)),ref_key:"rootEl",ref:k,tabindex:"-1",onClick:s,onFocusout:F},[l.useIcon?(B(),z(Pe,{key:0,class:"selected-options-wrapper",name:"list",tag:"div"},{default:i(()=>[(B(!0),x(I,null,j(r(f),h=>(B(),x("img",{class:"tag",src:h.icon,alt:"",key:h.key},null,8,ca))),128))]),_:1})):(B(),z(Pe,{key:1,class:"selected-options-wrapper",name:"list",tag:"div"},{default:i(()=>[(B(!0),x(I,null,j(r(f),h=>(B(),x("span",{class:"tag",key:h.key},R(h.label),1))),128))]),_:1})),pa,c("span",ma,R(l.title),1),o(ge,{name:"pop"},{default:i(()=>[te((B(),x("div",{class:ee(r(g)),ref_key:"optionsEl",ref:n,onClick:m[2]||(m[2]=ut(()=>{},["stop"])),key:r(p)},[o(V,null,{default:i(()=>[c("div",fa,[o(v,{modelValue:r(C),"onUpdate:modelValue":m[0]||(m[0]=h=>U(C)?C.value=h:null),indeterminate:r(S),onChange:M},{default:i(()=>[c("div",ha,[va,c("span",_a,R(r(y)),1)])]),_:1},8,["modelValue","indeterminate"])]),o(w,{modelValue:r($),"onUpdate:modelValue":m[1]||(m[1]=h=>U($)?$.value=h:null)},{default:i(()=>[(B(!0),x(I,null,j(l.options,h=>(B(),x("div",Ba,[o(v,{label:h.key},{default:i(()=>[c("div",ga,[l.useIcon?(B(),x("img",{key:0,class:"icon",src:h.icon,alt:""},null,8,ya)):at("",!0),c("span",ka,R(h.label),1),c("span",Ca,R(h.tip),1)])]),_:2},1032,["label"])]))),256))]),_:1},8,["modelValue"])]),_:1})],2)),[[ae,u.value]])]),_:1})],34)}}});var pe=ie(Fa,[["__scopeId","data-v-13a14e81"]]);const _t=l=>(_e("data-v-4ad0a52c"),l=l(),Be(),l),ba=["src"],Ea=_t(()=>c("img",{class:"select-arrow",src:Ye},null,-1)),wa={class:"title"},Da={class:"options-header"},Va={class:"option-content"},Aa=_t(()=>c("span",{class:"label"},"\u5168\u9009",-1)),Sa={class:"tip"},xa={key:0,class:"option"},$a={class:"option-content"},Oa=["src"],Ta={class:"label"},Ma={class:"tip"},Ka={class:"option-group"},Ua={class:"group-header"},Ra=["src"],Na={class:"label"},Ga={class:"option"},Ha={class:"option-content"},Ia=["src"],La={class:"tip"},Pa=Q({props:{options:null,modelValue:null,title:null},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=T(!1),a=T(!1),n=T(),s=h=>{u.value?u.value=!1:(u.value=!0,a.value=!1,Me(()=>{let b=Math.min(360,n.value.clientHeight),E=n.value.getBoundingClientRect();n.value.style.height=b+"px",a.value=E.top+b>window.innerHeight}))},k=T(),F=h=>{k.value.contains(h.relatedTarget)||(u.value=!1)},p=_(()=>JSON.stringify(t.options)),C=_({get(){return t.modelValue.length==t.options.length},set(h){e("update:modelValue",t.options.map(b=>b.key))}}),S=_(()=>t.modelValue.length>0&&t.modelValue.length<t.options.length),$=_({get(){return t.modelValue},set(h){e("update:modelValue",h)}}),M=h=>{h?e("update:modelValue",t.options.map(b=>b.key)):e("update:modelValue",[])},A=_(()=>({"drop-select":!0,show:u.value})),g=_(()=>({options:!0,top:a.value})),f=h=>h.key?N.character[h.key]||h.key:"\u672A\u4F69\u6234",y=h=>h.key?`./assets/char_faces/${h.key}.webp`:"./assets/forbidden.webp",d=h=>h.key?q[h.key].rarity==5?"gold":"purple":"black",m=_(()=>t.options.filter(h=>h.key=="")[0]),v=_(()=>{let h=Object.fromEntries(t.options.filter(E=>E.key).map(E=>[E.key,E])),b={};return Object.keys(q).filter(E=>E in h).sort((E,O)=>q[O].rarity-q[E].rarity).forEach(E=>{let O=q[E].element;O in b?b[O].push(h[E]):b[O]=[h[E]]}),["pyro","hydro","cryo","electro","anemo","geo","dendro"].filter(E=>E in b).map(E=>({icon:`./assets/game_icons/${E}.webp`,text:N.element[E],options:b[E]}))}),w=_(()=>t.options.filter(h=>t.modelValue.includes(h.key))),V=_(()=>`${t.modelValue.length} / ${t.options.length}`);return(h,b)=>{const E=Le,O=lt,W=xe;return B(),x("div",{class:ee(r(A)),ref_key:"rootEl",ref:k,tabindex:"-1",onClick:s,onFocusout:F},[o(Pe,{class:"selected-options-wrapper",name:"list",tag:"div"},{default:i(()=>[(B(!0),x(I,null,j(r(w),H=>(B(),x("img",{class:"tag",src:y(H),alt:"",key:H.key},null,8,ba))),128))]),_:1}),Ea,c("span",wa,R(l.title),1),o(ge,{name:"pop"},{default:i(()=>[te((B(),x("div",{class:ee(r(g)),ref_key:"optionsEl",ref:n,onClick:b[2]||(b[2]=ut(()=>{},["stop"])),key:r(p)},[o(W,null,{default:i(()=>[c("div",Da,[o(E,{modelValue:r(C),"onUpdate:modelValue":b[0]||(b[0]=H=>U(C)?C.value=H:null),indeterminate:r(S),onChange:M},{default:i(()=>[c("div",Va,[Aa,c("span",Sa,R(r(V)),1)])]),_:1},8,["modelValue","indeterminate"])]),o(O,{modelValue:r($),"onUpdate:modelValue":b[1]||(b[1]=H=>U($)?$.value=H:null)},{default:i(()=>[r(m)?(B(),x("div",xa,[o(E,{label:r(m).key},{default:i(()=>[c("div",$a,[c("img",{class:"icon",src:y(r(m)),alt:""},null,8,Oa),c("span",Ta,R(f(r(m))),1),c("span",Ma,R(r(m).tip),1)])]),_:1},8,["label"])])):at("",!0),(B(!0),x(I,null,j(r(v),H=>(B(),x("div",Ka,[c("div",Ua,[c("img",{src:H.icon,alt:"",class:"icon"},null,8,Ra),c("span",Na,R(H.text),1)]),(B(!0),x(I,null,j(H.options,Y=>(B(),x("div",Ga,[o(E,{label:Y.key},{default:i(()=>[c("div",Ha,[c("img",{class:"icon",src:y(Y),alt:""},null,8,Ia),c("span",{class:ee(`label ${d(Y)}`)},R(f(Y)),3),c("span",La,R(Y.tip),1)])]),_:2},1032,["label"])]))),256))]))),256))]),_:1},8,["modelValue"])]),_:1})],2)),[[ae,u.value]])]),_:1})],34)}}});var Bt=ie(Pa,[["__scopeId","data-v-4ad0a52c"]]);const za={class:"range-slider"},ja={class:"val"},Wa={class:"val"},Ja=Q({props:{modelValue:null},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=_({get(){return t.modelValue},set(a){e("update:modelValue",a)}});return(a,n)=>{const s=Ut;return B(),x("div",za,[c("span",ja,R(l.modelValue[0]),1),o(s,{class:"slider",modelValue:r(u),"onUpdate:modelValue":n[0]||(n[0]=k=>U(u)?u.value=k:null),range:"","show-stops":"",max:20},null,8,["modelValue"]),c("span",Wa,R(l.modelValue[1]),1)])}}});var Ya=ie(Ja,[["__scopeId","data-v-46f35984"]]);const qa={class:"section"},Xa={class:"section-content"},Qa=Q({setup(l){const e=le(),t=_({get(){return e.state.filter.pro},set(d){e.commit("setFilter",{key:"pro",value:d})}});function u(d){let m={};for(let v of e.state.artifacts){let w=v[d].toString();m[w]=w in m?m[w]+1:1}return m}const a=_(()=>{let d=u("set");return Object.keys(N.set).filter(m=>m in d).map(m=>({key:m,label:N.set[m],icon:`./assets/artifacts/${m}/flower.webp`,tip:d[m].toString()}))}),n=_({get(){return e.state.filter.set},set(d){e.commit("setFilter",{key:"set",value:d})}}),s=_(()=>{let d=u("slot");return Object.keys(N.slot).filter(m=>m in d).map(m=>({key:m,label:N.slot[m],icon:`./assets/game_icons/${m}.webp`,tip:d[m].toString()}))}),k=_({get(){return e.state.filter.slot},set(d){e.commit("setFilter",{key:"slot",value:d})}}),F=_(()=>{let d=u("mainKey");return G.mainKeys.all.filter(m=>m in d).map(m=>({key:m,label:N.affix[m],tip:d[m].toString()}))}),p=_({get(){return e.state.filter.main},set(d){e.commit("setFilter",{key:"main",value:d})}}),C=_(()=>{let d=u("lock");return["true","false"].filter(m=>m in d).map(m=>({key:m,label:m=="true"?"\u52A0\u9501":"\u89E3\u9501",tip:d[m].toString()}))}),S=_({get(){return e.state.filter.lock},set(d){e.commit("setFilter",{key:"lock",value:d})}}),$=_({get(){return e.state.filter.lvRange},set(d){e.commit("setFilter",{key:"lvRange",value:d})}}),M=_(()=>{let d=u("location");return["","Traveler"].concat(Object.keys(q)).filter(m=>m in d).map(m=>({key:m,tip:d[m].toString()}))}),A=_({get(){return e.state.filter.location},set(d){e.commit("setFilter",{key:"location",value:d})}}),g=G.minorKeys.map(d=>({key:d,label:N.affix[d]})),f=_({get(){return e.state.filter.minorMustHave},set(d){e.commit("setFilter",{key:"minorMustHave",value:d})}}),y=_({get(){return e.state.filter.minorMustNotHave},set(d){e.commit("setFilter",{key:"minorMustNotHave",value:d})}});return Se(()=>e.state.nResetFilter,()=>{e.commit("setFilter",{key:"set",value:a.value.map(d=>d.key)}),e.commit("setFilter",{key:"slot",value:s.value.map(d=>d.key)}),e.commit("setFilter",{key:"main",value:F.value.map(d=>d.key)}),e.commit("setFilter",{key:"lock",value:C.value.map(d=>d.key)}),e.commit("setFilter",{key:"lvRange",value:[0,20]}),e.commit("setFilter",{key:"location",value:M.value.map(d=>d.key)})}),(d,m)=>(B(),x("div",qa,[o(Ue,{title:"\u7B5B\u9009"},{default:i(()=>[te(c("span",{onClick:m[0]||(m[0]=v=>t.value=!1)},"\u57FA\u672C",512),[[ae,r(t)]]),te(c("span",{onClick:m[1]||(m[1]=v=>t.value=!0)},"\u9AD8\u7EA7",512),[[ae,!r(t)]])]),_:1}),c("div",Xa,[o(pe,{class:"filter",title:"\u5957\u88C5",options:r(a),modelValue:r(n),"onUpdate:modelValue":m[2]||(m[2]=v=>U(n)?n.value=v:null),"use-icon":!0},null,8,["options","modelValue"]),o(pe,{class:"filter",title:"\u90E8\u4F4D",options:r(s),modelValue:r(k),"onUpdate:modelValue":m[3]||(m[3]=v=>U(k)?k.value=v:null),"use-icon":!0},null,8,["options","modelValue"]),o(pe,{class:"filter",title:"\u4E3B\u8BCD\u6761",options:r(F),modelValue:r(p),"onUpdate:modelValue":m[4]||(m[4]=v=>U(p)?p.value=v:null)},null,8,["options","modelValue"]),o(pe,{class:"filter",title:"\u9501",options:r(C),modelValue:r(S),"onUpdate:modelValue":m[5]||(m[5]=v=>U(S)?S.value=v:null)},null,8,["options","modelValue"]),o(Ya,{class:"filter",modelValue:r($),"onUpdate:modelValue":m[6]||(m[6]=v=>U($)?$.value=v:null)},null,8,["modelValue"]),te(c("div",null,[o(Bt,{class:"filter",title:"\u89D2\u8272",options:r(M),modelValue:r(A),"onUpdate:modelValue":m[7]||(m[7]=v=>U(A)?A.value=v:null)},null,8,["options","modelValue"]),o(pe,{class:"filter",title:"\u5FC5\u987B\u5305\u542B\u7684\u526F\u8BCD\u6761",options:r(g),modelValue:r(f),"onUpdate:modelValue":m[8]||(m[8]=v=>U(f)?f.value=v:null)},null,8,["options","modelValue"]),o(pe,{class:"filter",title:"\u4E0D\u5F97\u5305\u542B\u7684\u526F\u8BCD\u6761",options:r(g),modelValue:r(y),"onUpdate:modelValue":m[9]||(m[9]=v=>U(y)?y.value=v:null)},null,8,["options","modelValue"])],512),[[ae,r(t)]])])]))}});const Za=l=>(_e("data-v-3f85b533"),l=l(),Be(),l),es={class:"selected-option-wrapper"},ts=Za(()=>c("img",{class:"select-arrow",src:Ye},null,-1)),ls={class:"title"},us=["onClick"],as={class:"label"},ss={class:"tip"},os=Q({props:{options:null,modelValue:null,title:null},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=T(!1),a=T(!1),n=T(),s=A=>{u.value?u.value=!1:(u.value=!0,a.value=!1,Me(()=>{let g=Math.min(360,n.value.clientHeight),f=n.value.getBoundingClientRect();n.value.style.height=g+"px",a.value=f.top+g>window.innerHeight}))},k=T(),F=A=>{k.value.contains(A.relatedTarget)||(u.value=!1)},p=_(()=>JSON.stringify(t.options)),C=_(()=>({"drop-select":!0,show:u.value})),S=_(()=>({options:!0,top:a.value})),$=_(()=>{for(let A of t.options)if(A.key==t.modelValue)return A.label;return"\u9519\u8BEF\uFF1A\u672A\u77E5\u7684\u9009\u9879"}),M=A=>{e("update:modelValue",A)};return(A,g)=>{const f=xe;return B(),x("div",{class:ee(r(C)),ref_key:"rootEl",ref:k,tabindex:"-1",onClick:s,onFocusout:F},[c("div",es,R(r($)),1),ts,c("span",ls,R(l.title),1),o(ge,{name:"pop"},{default:i(()=>[te((B(),x("div",{class:ee(r(S)),ref_key:"optionsEl",ref:n,key:r(p)},[o(f,null,{default:i(()=>[(B(!0),x(I,null,j(l.options,y=>(B(),x("div",{class:ee({option:!0,selected:y.key==l.modelValue}),onClick:d=>M(y.key)},[c("span",as,R(y.label),1),c("span",ss,R(y.tip),1)],10,us))),256))]),_:1})],2)),[[ae,u.value]])]),_:1})],34)}}});var ns=ie(os,[["__scopeId","data-v-3f85b533"]]);const rs=c("p",{class:"info"},[L(" \u6570\u636E\u6765\u81EA "),c("a",{href:"https://ngabbs.com/read.php?tid=27859119"},"\u5168\u89D2\u8272\u5723\u9057\u7269\u53CA\u6B66\u5668\u642D\u914D\u7B80\u8FF0 [NGA]")],-1),is=L("\u5143\u7D20\u7C7B\u578B"),ds=L("\u89D2\u8272"),cs=L("\u5E94\u7528"),ps=Q({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,u=le(),a=_({get(){return t.modelValue},set(S){e("update:modelValue",S)}}),n=T(""),s=T(""),k=_(()=>{let S=[];for(let $ in q)q[$].element==n.value&&S.push({value:$,label:N.character[$]});return S}),F=()=>{s.value=""},p=_(()=>s.value in q),C=()=>{u.commit("useBuild",{charKey:s.value}),e("update:modelValue",!1)};return(S,$)=>{const M=we,A=De,g=Ve,f=Ae,y=me,d=fe;return B(),z(d,{title:"\u8BCD\u6761\u6743\u91CD\u9884\u8BBE",modelValue:r(a),"onUpdate:modelValue":$[2]||($[2]=m=>U(a)?a.value=m:null)},{default:i(()=>[rs,o(f,{justify:"space-between"},{default:i(()=>[o(M,{span:8},{default:i(()=>[is]),_:1}),o(M,{span:8},{default:i(()=>[o(g,{modelValue:n.value,"onUpdate:modelValue":$[0]||($[0]=m=>n.value=m),onChange:F},{default:i(()=>[(B(!0),x(I,null,j(r(N).element,(m,v)=>(B(),z(A,{label:m,value:v},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(f,{justify:"space-between"},{default:i(()=>[o(M,{span:8},{default:i(()=>[ds]),_:1}),o(M,{span:8},{default:i(()=>[o(g,{modelValue:s.value,"onUpdate:modelValue":$[1]||($[1]=m=>s.value=m)},{default:i(()=>[(B(!0),x(I,null,j(r(k),m=>(B(),z(A,{label:m.label,value:m.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(f,{justify:"center",style:{"margin-top":"30px"}},{default:i(()=>[o(y,{type:"primary",onClick:C,disabled:!r(p)},{default:i(()=>[cs]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"])}}});const Ee=l=>(_e("data-v-20cf571f"),l=l(),Be(),l),ms={class:"section"},fs={class:"content"},hs={key:0},vs=Ee(()=>c("p",{class:"row small"},"\u5723\u9057\u7269a\u5BF9\u89D2\u8272c\u7684\u9002\u914D\u6982\u7387\u5B9A\u4E49\u4E3A\uFF0C\u5237100\u4E2A\u6EE1\u7EA7\u5723\u9057\u7269\uFF0C\u5176\u4E2D\u548Ca\u540C\u90E8\u4F4D\u540C\u4E3B\u8BCD\u6761\u7684\u5723\u9057\u7269\u5F97\u5206\u5747\u4E0D\u8D85\u8FC7a\u7684\u6EE1\u7EA7\u671F\u671B\u5F97\u5206\u7684\u6982\u7387\u3002\u5982\u679Ca\u5BF9c\u662F\u6563\u4EF6\u5219\u662F200\u4E2A\u3002",-1)),_s=Ee(()=>c("p",{class:"row small"},[L("\u6839\u636E"),c("a",{href:"https://ngabbs.com/read.php?tid=27859119",target:"_blank"},"\u63A8\u8350\u914D\u88C5"),L("\u4E3A\u6BCF\u4E2A\u89D2\u8272\u8BA1\u7B97\u9002\u914D\u6982\u7387\uFF08\u81EA\u5B9A\u4E49\u7684\u8BCD\u6761\u6743\u91CD\u4E0D\u4F1A\u751F\u6548\uFF09\uFF0C\u603B\u7684\u9002\u914D\u6982\u7387\u4E3A\u6240\u6709\u9009\u4E2D\u89D2\u8272\u9002\u914D\u6982\u7387\u7684\u6700\u5927\u503C\u3002 ")],-1)),Bs=Ee(()=>c("p",{class:"row small"},"\u9F20\u6807\u60AC\u505C\u5728\u5723\u9057\u7269\u4E0A\u53EF\u4EE5\u67E5\u770B\u8BE6\u7EC6\u7684\u8BA1\u7B97\u7ED3\u679C\u3002",-1)),gs={key:1},ys=Ee(()=>c("p",{class:"row small"},"\u5723\u9057\u7269a\u5BF9\u89D2\u8272c\u7684\u9002\u914D\u6982\u7387\u5B9A\u4E49\u4E3A\uFF0C\u5237100\u4E2A\u6EE1\u7EA7\u5723\u9057\u7269\uFF0C\u5176\u4E2D\u548Ca\u540C\u90E8\u4F4D\u540C\u4E3B\u8BCD\u6761\u7684\u5723\u9057\u7269\u5F97\u5206\u5747\u4E0D\u8D85\u8FC7a\u7684\u6EE1\u7EA7\u671F\u671B\u5F97\u5206\u7684\u6982\u7387\u3002\u5982\u679Ca\u5BF9c\u662F\u6563\u4EF6\u5219\u662F200\u4E2A\u3002",-1)),ks={key:2},Cs=Ee(()=>c("p",{class:"row small"},"\u5723\u9057\u7269b\u662F\u5723\u9057\u7269a\u7684\u4E0A\u4F4D\u66FF\u4EE3\uFF0C\u5982\u679C\u5B83\u4EEC\u90E8\u4F4D\u548C\u4E3B\u8BCD\u6761\u76F8\u540C\uFF0C\u4E14a\u7684\u6240\u6709\u526F\u8BCD\u6761\uFF08\u9664\u5C0F\u653B/\u5C0F\u751F/\u5C0F\u9632\u5916\uFF09b\u90FD\u6709\u800C\u4E14\u6570\u503C\u66F4\u5927\u3002",-1)),Fs=[Cs],bs={key:3},Es={key:4},ws=Ee(()=>c("p",{class:"row small"},"\u5723\u9057\u7269\u7684\u201C\u8BCD\u6761\u6570\u201D\u662F\u5404\u4E2A\u526F\u8BCD\u6761\u6570\u503C\u9664\u4EE5\u5355\u6B21\u5E73\u5747\u63D0\u5347\u91CF\uFF0C\u518D\u6839\u636E\u8BCD\u6761\u6743\u91CD\u8BA1\u7B97\u7684\u52A0\u6743\u548C\u3002",-1)),Ds=[ws],Vs=Q({setup(l){const e=le(),t=[{key:"cur",label:"\u6309\u5F53\u524D\u8BCD\u6761\u6570"},{key:"min",label:"\u6309\u6EE1\u7EA7\u6700\u5C0F\u8BCD\u6761\u6570"},{key:"avg",label:"\u6309\u6EE1\u7EA7\u671F\u671B\u8BCD\u6761\u6570"},{key:"max",label:"\u6309\u6EE1\u7EA7\u6700\u5927\u8BCD\u6761\u6570"},{key:"pmulti",label:"\u6309\u89D2\u8272\u9002\u914D\u6982\u7387\uFF08\u591A\u4EBA\uFF09"},{key:"psingle",label:"\u6309\u89D2\u8272\u9002\u914D\u6982\u7387\uFF08\u5355\u4EBA\uFF09"},{key:"defeat",label:"\u6309\u4E0A\u4F4D\u66FF\u4EE3\u6570"},{key:"index",label:"\u4E0D\u6392\u5E8F"}],u=_({get(){return e.state.sort.by},set(f){e.commit("setSort",{key:"by",value:f})}}),a=Object.keys(q).map(f=>({key:f,tip:""})),n=_({get(){return e.state.sort.characters},set(f){e.commit("setSort",{key:"characters",value:f})}}),s=Object.entries(N.set).map(([f,y])=>({key:f,label:y,icon:`./assets/artifacts/${f}/flower.webp`})),k=_({get(){return e.state.sort.sets},set(f){e.commit("setSort",{key:"sets",value:f})}}),F=G.mainKeys.sands.map(f=>({key:f,label:N.affix[f]})),p=_({get(){return e.state.sort.sands},set(f){e.commit("setSort",{key:"sands",value:f})}}),C=G.mainKeys.goblet.map(f=>({key:f,label:N.affix[f]})),S=_({get(){return e.state.sort.goblet},set(f){e.commit("setSort",{key:"goblet",value:f})}}),$=G.mainKeys.circlet.map(f=>({key:f,label:N.affix[f]})),M=_({get(){return e.state.sort.circlet},set(f){e.commit("setSort",{key:"circlet",value:f})}}),A=T(!1),g=()=>A.value=!0;return(f,y)=>(B(),x(I,null,[c("div",ms,[o(Ue,{title:"\u6392\u5E8F"}),c("div",fs,[o(ns,{class:"row",modelValue:r(u),"onUpdate:modelValue":y[0]||(y[0]=d=>U(u)?u.value=d:null),options:t,title:"\u6392\u5E8F\u65B9\u5F0F"},null,8,["modelValue"]),r(u)=="pmulti"?(B(),x("div",hs,[vs,_s,Bs,o(Bt,{class:"row",title:"\u89D2\u8272",options:r(a),modelValue:r(n),"onUpdate:modelValue":y[1]||(y[1]=d=>U(n)?n.value=d:null)},null,8,["options","modelValue"])])):r(u)=="psingle"?(B(),x("div",gs,[ys,c("p",{class:"row small"},[c("span",{class:"text-btn",onClick:g},"\u52A0\u8F7D\u9884\u8BBE\u914D\u88C5")]),o(pe,{class:"row",modelValue:r(k),"onUpdate:modelValue":y[2]||(y[2]=d=>U(k)?k.value=d:null),options:r(s),title:"\u5957\u88C5\u504F\u597D","use-icon":!0},null,8,["modelValue","options"]),o(pe,{class:"row",modelValue:r(p),"onUpdate:modelValue":y[3]||(y[3]=d=>U(p)?p.value=d:null),options:r(F),title:"\u65F6\u4E4B\u6C99\u4E3B\u8BCD\u6761\u504F\u597D"},null,8,["modelValue","options"]),o(pe,{class:"row",modelValue:r(S),"onUpdate:modelValue":y[4]||(y[4]=d=>U(S)?S.value=d:null),options:r(C),title:"\u7A7A\u4E4B\u676F\u4E3B\u8BCD\u6761\u504F\u597D"},null,8,["modelValue","options"]),o(pe,{class:"row",modelValue:r(M),"onUpdate:modelValue":y[5]||(y[5]=d=>U(M)?M.value=d:null),options:r($),title:"\u7406\u4E4B\u51A0\u4E3B\u8BCD\u6761\u504F\u597D"},null,8,["modelValue","options"])])):r(u)=="defeat"?(B(),x("div",ks,Fs)):r(u)=="index"?(B(),x("div",bs)):(B(),x("div",Es,Ds))])]),o(ps,{modelValue:A.value,"onUpdate:modelValue":y[6]||(y[6]=d=>A.value=d)},null,8,["modelValue"])],64))}});var As=ie(Vs,[["__scopeId","data-v-20cf571f"]]);const Ss={class:"layout-right"},xs={class:"start-container"},$s=L("\u5F00\u59CB\u8BA1\u7B97"),Os=Q({setup(l){const e=le(),t=()=>{e.dispatch("updFilteredArtifacts")};return(u,a)=>{const n=xe;return B(),x("div",Ss,[o(n,null,{default:i(()=>[o(Pu),o(Qa),o(da),o(As),c("div",xs,[o(Je,{onClick:t},{default:i(()=>[$s]),_:1})])]),_:1})])}}});var Ts=ie(Os,[["__scopeId","data-v-4024a932"]]),gt={set(l,e,t=365*24*60*60*1e3){let u=new Date;u.setTime(u.getTime()+t),document.cookie=l+"="+encodeURI(e)+";expires="+u.toUTCString()},get(l){let e,t=new RegExp("(^| )"+l+"=([^;]*)(;|$)");return(e=document.cookie.match(t))?decodeURI(e[2]):null},del(l){let e=new Date;e.setTime(e.getTime()-1);let t=this.get(l);t!=null&&(document.cookie=l+"="+t+";expires="+e.toUTCString())}};const Ms={class:"update-content"},Ks=L("\u6211\u5DF2\u6709\u6B64\u7248\u672C"),Us=c("p",null,[c("b",null,"\u66F4\u65B0\u65E5\u5FD7\uFF1A")],-1),Rs={style:{"white-space":"pre-wrap"}},Ns={class:"modal"},Gs=Q({setup(l){const e=le(),t="./assets/loading.gif",u=T(!1),a=T("Hello"),n=T("v0.0.0"),s=T("Fix bugs"),k=()=>{gt.set("yas_ver",n.value),u.value=!1},F=()=>{k(),window.open("https://ghproxy.com/https://github.com/ideless/yas-lock/releases/latest/download/yas-lock.exe","_blank")};return Rt(()=>{try{}catch{}console.log("Checking for yas-lock updates..."),Nt.get("https://api.github.com/repos/ideless/yas-lock/releases/latest").then(p=>{if("tag_name"in p.data){n.value=p.data.tag_name,s.value=p.data.body;let C=gt.get("yas_ver");if(!C)a.value="\u4F60\u53EF\u80FD\u8FD8\u6CA1\u6709\u4E0B\u8F7Dyas-lock\u3002yas-lock\u662F\u4E00\u4E2A\u8F7B\u91CFwindows\u7AEF\u5723\u9057\u7269\u5BFC\u51FA\u548C\u52A0\u89E3\u9501\u5DE5\u5177\uFF0C\u63A8\u8350\u4E0B\u8F7D\uFF01";else if(C!=p.data.tag_name)a.value=`\u4F60\u7684yas-lock\u5F53\u524D\u7248\u672C\u4E3A${C}\uFF0C\u6700\u65B0\u7248\u672C\u4E3A${p.data.tag_name}\uFF0C\u5EFA\u8BAE\u66F4\u65B0\uFF01`;else return;u.value=!0}})}),(p,C)=>{const S=me,$=fe;return B(),x(I,null,[o(hu),o(Ts),o($,{modelValue:u.value,"onUpdate:modelValue":C[0]||(C[0]=M=>u.value=M),title:"\u66F4\u65B0 yas-lock"},{default:i(()=>[c("div",Ms,[c("p",null,R(a.value),1),c("p",null,[o(S,{icon:r(Ze),type:"primary",onClick:F},{default:i(()=>[L("\u4E0B\u8F7D yas-lock "+R(n.value),1)]),_:1},8,["icon"]),o(S,{onClick:k,style:{"margin-left":"10px"}},{default:i(()=>[Ks]),_:1})]),Us,c("p",Rs,R(s.value),1)])]),_:1},8,["modelValue"]),o(ge,{name:"fade"},{default:i(()=>[te(c("div",Ns,[c("img",{src:t})],512),[[ae,r(e).state.loading]])]),_:1})],64)}}});Gt(Gs).use(Pt,ct).mount("#app");
